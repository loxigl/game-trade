ĞŸĞ¾Ğ»Ğ½Ğ¾Ğµ PRD - Ğ‘Ğ¸Ñ€Ğ¶Ğ° Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸Ğ¸Ğ³Ñ€Ğ¾Ğ²Ñ‹Ñ… Ñ†ĞµĞ½Ğ½Ğ¾ÑÑ‚ĞµĞ¹
Ğ’ĞµÑ€ÑĞ¸Ñ: 1.2
Ğ”Ğ°Ñ‚Ğ°: 12 Ğ¼Ğ°Ñ 2025 Ğ³.
Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ: Ğ“Ğ¾Ñ‚Ğ¾Ğ² Ğº Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
1. Ğ’Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğµ
1.1 ĞĞ±Ğ·Ğ¾Ñ€ Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ°
ĞŸĞ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ğ° "GameTrade" Ğ¿Ñ€ĞµĞ´ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ ÑĞ¾Ğ±Ğ¾Ğ¹ P2P-Ğ¼Ğ°Ñ€ĞºĞµÑ‚Ğ¿Ğ»ĞµĞ¹Ñ Ğ´Ğ»Ñ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾Ğ³Ğ¾ Ğ¾Ğ±Ğ¼ĞµĞ½Ğ° Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸Ğ¸Ğ³Ñ€Ğ¾Ğ²Ñ‹Ğ¼Ğ¸ Ñ†ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑĞ¼Ğ¸ (Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ°Ğ¼Ğ¸, Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚Ğ°Ğ¼Ğ¸) Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ¸Ğ³Ñ€Ğ¾ĞºĞ°Ğ¼Ğ¸. ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğ¹ Ğ¾ÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒÑ Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ñ‹ ÑĞ²Ğ»ÑĞµÑ‚ÑÑ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Escrow, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ°Ñ Ğ³Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ ÑĞ´ĞµĞ»Ğ¾Ğº Ğ¸ Ğ¿Ñ€ĞµĞ´Ğ¾Ñ‚Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ğ¼Ğ¾ÑˆĞµĞ½Ğ½Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾.
1.2 Ğ“Ğ»Ğ¾ÑÑĞ°Ñ€Ğ¸Ğ¹
Ğ¢ĞµÑ€Ğ¼Ğ¸Ğ½ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸ĞµEscrowĞœĞµÑ…Ğ°Ğ½Ğ¸Ğ·Ğ¼ Ğ·Ğ°Ğ¼Ğ¾Ñ€Ğ¾Ğ·ĞºĞ¸ ÑÑ€ĞµĞ´ÑÑ‚Ğ² Ğ´Ğ¾ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ñ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‡Ğ¸ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ°ListingĞĞ±ÑŠÑĞ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¾ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶Ğµ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ°/Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚Ğ°Marketplaceâ€‘serviceĞ‘Ğ¸Ğ·Ğ½ĞµÑâ€‘Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸ Ğ»Ğ¾Ñ‚Ğ¾Ğ² Ğ¸ ÑĞ´ĞµĞ»Ğ¾ĞºItemTemplateĞ¡Ñ‚Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ÑĞ¿Ñ€Ğ°Ğ²Ğ¾Ñ‡Ğ½Ğ¸Ğº Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ¾Ğ² ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ¹ Ğ¸Ğ³Ñ€Ñ‹DisputeĞ¡Ğ¿Ğ¾Ñ€ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ²Ñ†Ğ¾Ğ¼ Ğ¸ Ğ¿Ğ¾ĞºÑƒĞ¿Ğ°Ñ‚ĞµĞ»ĞµĞ¼WalletĞ’Ğ½ÑƒÑ‚Ñ€ĞµĞ½Ğ½Ğ¸Ğ¹ ĞºĞ¾ÑˆĞµĞ»ĞµĞº Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ Ñ Ğ±Ğ°Ğ»Ğ°Ğ½ÑĞ¾Ğ¼ Ğ² Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ½Ğ¾Ğ¹ Ğ²Ğ°Ğ»ÑÑ‚Ğµ
1.3 Ğ¦ĞµĞ»Ğ¸ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

ĞŸÑ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½ÑƒÑ P2P-Ğ¿Ğ»Ğ¾Ñ‰Ğ°Ğ´ĞºÑƒ Ğ´Ğ»Ñ Ñ‚Ğ¾Ñ€Ğ³Ğ¾Ğ²Ğ»Ğ¸ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸Ğ¸Ğ³Ñ€Ğ¾Ğ²Ñ‹Ğ¼Ğ¸ Ñ†ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑĞ¼Ğ¸
ĞœĞ¸Ğ½Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¼Ğ¾ÑˆĞµĞ½Ğ½Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ñ‡ĞµÑ€ĞµĞ· Escrow, Ğ°Ğ½Ñ‚Ğ¸Ñ„Ñ€Ğ¾Ğ´ Ğ¸ Ğ¼Ğ¾Ğ´ĞµÑ€Ğ°Ñ†Ğ¸Ñ
ĞĞ±ĞµÑĞ¿ĞµÑ‡Ğ¸Ñ‚ÑŒ Ğ²Ñ‹ÑĞ¾ĞºÑƒÑ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ (P95 latency < 200 Ğ¼Ñ Ğ¿Ñ€Ğ¸ 1000 RPS)
Ğ“Ğ°Ñ€Ğ°Ğ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚ÑŒ (SLA 99.9%)

2. ĞĞ±Ğ·Ğ¾Ñ€ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹
2.1 Ğ’Ñ‹ÑĞ¾ĞºĞ¾ÑƒÑ€Ğ¾Ğ²Ğ½ĞµĞ²Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°
â”Œ Browser (Reactâ€‘SPA) â”
â”‚   Next.js 14 SSR   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚HTTPS JSON/REST + WebSocket
â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  AMQP   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  APIâ€‘Gateway (NGINX) â”‚â—€â”€â”€â”€â”€â–¶â”‚ notificationâ€‘svc â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  authâ€‘svc        â”‚  gRPC   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  marketplaceâ€‘svc â”‚â—€â”€â”€â”€â”€â”€â”€â–¶â”‚ paymentâ€‘svc     â”‚
â”‚  fraudâ€‘svc       â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  chat-svc        â”‚
â”‚  adminâ€‘svc       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
     PostgreSQL + Redis + Elasticsearch
ĞšĞ°Ğ¶Ğ´Ğ°Ñ ÑĞµÑ€Ğ²Ğ¸Ñâ€‘Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ° Ñ€Ğ°Ğ·Ğ²Ñ‘Ñ€Ğ½ÑƒÑ‚Ğ° Ğ² Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ğ¾Ğ¼ Kubernetesâ€‘Deployment Ñ Ğ°Ğ²Ñ‚Ğ¾â€‘Ñ…Ğ¾Ñ€Ğ¸Ğ·Ğ¾Ğ½Ñ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¼ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ (HPA) Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ CPU / RPS.
2.2 Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ÑÑ‚ĞµĞº

Backend: Python 3.12, FastAPI, SQLAlchemy 2.0, Pydantic v2
Frontend: Next.js 14, React 18, TypeScript, Tailwind CSS
Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ: PostgreSQL 15, Redis 7, Elasticsearch
Ğ¡Ğ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ: RabbitMQ
Ğ”ĞµĞ¿Ğ»Ğ¾Ğ¹: Kubernetes, Docker, GitHub Actions, Terraform
ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³: Prometheus + Grafana, OpenSearch + Fluent Bit

3. Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
3.1 User Stories & Acceptance Criteria
#ĞšĞ°ĞºĞ¯ Ñ…Ğ¾Ñ‡ÑƒĞ§Ñ‚Ğ¾Ğ±Ñ‹Acceptance Test (ID)USâ€‘01Ğ“Ğ¾ÑÑ‚ÑŒĞĞ°Ğ¹Ñ‚Ğ¸ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚ Ğ¿Ğ¾ Ğ½Ğ°Ğ·Ğ²Ğ°Ğ½Ğ¸ÑĞ‘Ñ‹ÑÑ‚Ñ€Ğ¾ ĞºÑƒĞ¿Ğ¸Ñ‚ÑŒ ĞµĞ³Ğ¾searchâ€‘01 â€” <300 Ğ¼Ñ, Ñ€ĞµĞ»ĞµĞ²Ğ°Ğ½Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ > 0.8USâ€‘04ĞŸÑ€Ğ¾Ğ´Ğ°Ğ²ĞµÑ†ĞĞ¿ÑƒĞ±Ğ»Ğ¸ĞºĞ¾Ğ²Ğ°Ñ‚ÑŒ Ğ»Ğ¾Ñ‚ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ´ĞµĞ½ÑŒĞ³Ğ¸ Ğ½Ğ° ĞºĞ¾ÑˆĞµĞ»Ñ‘Ğºlistingâ€‘createâ€‘01 â€” ÑÑ‚Ğ°Ñ‚ÑƒÑ=ACTIVE, ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸Ñ Ñ€Ğ°ÑÑÑ‡Ğ¸Ñ‚Ğ°Ğ½Ğ°USâ€‘08ĞŸĞ¾ĞºÑƒĞ¿Ğ°Ñ‚ĞµĞ»ÑŒĞĞ¿Ğ»Ğ°Ñ‚Ğ¸Ñ‚ÑŒ Ğ»Ğ¾Ñ‚Ğ¡Ñ€ĞµĞ´ÑÑ‚Ğ²Ğ° ÑƒÑˆĞ»Ğ¸ Ğ² Escrowtxnâ€‘initâ€‘01 â€” ÑÑ‚Ğ°Ñ‚ÑƒÑ=HELD, walletâ€‘balanceâ€‘buyer âˆ’=amountUSâ€‘12ĞœĞ¾Ğ´ĞµÑ€.Ğ—Ğ°Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ğ¾Ğ´Ğ¾Ğ·Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ»Ğ¾Ñ‚ĞŸÑ€ĞµĞ´Ğ¾Ñ‚Ğ²Ñ€Ğ°Ñ‚Ğ¸Ñ‚ÑŒ Ñ„Ñ€Ğ¾Ğ´moderâ€‘banâ€‘01 â€” ÑÑ‚Ğ°Ñ‚ÑƒÑ=BANNED, ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ²Ñ†Ñƒ
3.2 Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¸ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº

LISTING_NOT_FOUND â€” 404
INSUFFICIENT_FUNDS â€” 409
ESCROW_TIMEOUT â€” Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ ÑĞ¿Ğ¾Ñ€Ğ° (Dispute)
AUTHORIZATION_FAILED â€” 401
VALIDATION_ERROR â€” 422
RATE_LIMIT_EXCEEDED â€” 429

4. Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
4.1 ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Ğ¸ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

JWT-Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Ñ access token (15 Ğ¼Ğ¸Ğ½) Ğ¸ refresh token (30 Ğ´Ğ½ĞµĞ¹)
Ğ Ğ¾Ğ»Ğ¸: Ğ³Ğ¾ÑÑ‚ÑŒ, Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ, Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ²ĞµÑ†, Ğ¼Ğ¾Ğ´ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€, Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€
OAuth Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ ÑĞ¾ Steam Ğ¸ Discord

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ JWT-Ñ‚Ğ¾ĞºĞµĞ½Ğ°:
json{
  "sub": "af7c441e-2e9c-48f0-8b27-3d39a8f2c9d5",
  "role": "user",
  "email": "user@example.com",
  "iat": 1715507098,
  "exp": 1715508098
}
4.2 Ğ”Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ°Ñ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ² Ğ¸ ÑƒÑĞ»ÑƒĞ³
Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°Ñ‚ÑŒ Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ñ‚Ğ¸Ğ¿Ñ‹ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸Ğ¸Ğ³Ñ€Ğ¾Ğ²Ñ‹Ñ… Ñ†ĞµĞ½Ğ½Ğ¾ÑÑ‚ĞµĞ¹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğµ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾ Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ°ÑÑ‚ÑÑ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ¸Ğ³Ñ€Ğ°Ğ¼Ğ¸:

ĞŸÑ€ĞµĞ´Ğ¼ĞµÑ‚Ñ‹ (Ğ¾Ñ€ÑƒĞ¶Ğ¸Ğµ, Ğ±Ñ€Ğ¾Ğ½Ñ, Ñ€Ğ°ÑÑ…Ğ¾Ğ´Ğ½Ğ¸ĞºĞ¸, ĞºĞ¾ÑĞ¼ĞµÑ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ñ‹)
Ğ’Ğ°Ğ»ÑÑ‚Ğ° (Ğ·Ğ¾Ğ»Ğ¾Ñ‚Ğ¾, ĞºÑ€Ğ¸ÑÑ‚Ğ°Ğ»Ğ»Ñ‹, Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸Ğ¸Ğ³Ñ€Ğ¾Ğ²Ñ‹Ğµ Ğ¼Ğ¾Ğ½ĞµÑ‚Ñ‹)
Ğ£ÑĞ»ÑƒĞ³Ğ¸ (Ğ¿Ñ€Ğ¾ĞºĞ°Ñ‡ĞºĞ° ÑƒÑ€Ğ¾Ğ²Ğ½Ñ, Ğ¿Ñ€Ğ¾Ñ…Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ Ñ€ĞµĞ¹Ğ´Ğ¾Ğ², Ğ¾Ğ±ÑƒÑ‡ĞµĞ½Ğ¸Ğµ)
ĞĞºĞºĞ°ÑƒĞ½Ñ‚Ñ‹ (Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ñ†ĞµĞ½Ğ½Ñ‹Ğµ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚Ñ‹ Ñ Ğ¿Ñ€Ğ¾Ğ³Ñ€ĞµÑÑĞ¾Ğ¼)

4.2.1 Ğ”Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ°Ñ‚Ñ€Ğ¸Ğ±ÑƒÑ‚Ñ‹ Ğ´Ğ»Ñ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ¾Ğ²
Ğ”Ğ»Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ¸ Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ñ… Ñ‚Ğ¸Ğ¿Ğ¾Ğ² Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ¾Ğ² Ğ¸ Ğ¸Ñ… ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ñ… Ğ°Ñ‚Ñ€Ğ¸Ğ±ÑƒÑ‚Ğ¾Ğ² Ğ² Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ¾Ñ‚ Ğ¸Ğ³Ñ€Ñ‹, ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºÑƒÑ ÑÑ…ĞµĞ¼Ñƒ Ğ°Ñ‚Ñ€Ğ¸Ğ±ÑƒÑ‚Ğ¾Ğ²:
json// ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ Ğ¼ĞµÑ‚Ğ°Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ´Ğ»Ñ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ¾Ğ² WoW
{
  "item_type": "equipment",
  "sub_type": "weapon",
  "weapon_type": "sword",
  "level": 70,
  "item_level": 415,
  "stats": {
    "strength": 120,
    "stamina": 85,
    "critical_strike": 45,
    "haste": 30
  },
  "required_level": 60,
  "binding": "bind_on_equip",
  "unique": true,
  "visual_effect": "fiery_glow"
}

// ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ Ğ´Ğ»Ñ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸Ğ¸Ğ³Ñ€Ğ¾Ğ²Ğ¾Ğ¹ Ğ²Ğ°Ğ»ÑÑ‚Ñ‹
{
  "item_type": "currency",
  "currency_type": "gold",
  "amount": 10000,
  "server": "Silvermoon",
  "faction": "Alliance",
  "delivery_method": "auction_house"
}

// ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ Ğ´Ğ»Ñ ÑƒÑĞ»ÑƒĞ³
{
  "item_type": "service",
  "service_type": "leveling",
  "from_level": 1,
  "to_level": 60,
  "character_class": "Warrior",
  "estimated_time": "3 days",
  "includes_gear": true
}
4.2.2 Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¹
Ğ”Ğ»Ñ ÑÑ„Ñ„ĞµĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğ¹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ñ Ğ¼Ğ½Ğ¾Ğ¶ĞµÑÑ‚Ğ²Ğ¾Ğ¼ Ğ¸Ğ³Ñ€ Ğ¸ Ñ‚Ğ¸Ğ¿Ğ¾Ğ² Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ², ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ Ğ¸ĞµÑ€Ğ°Ñ€Ñ…Ğ¸Ñ‡ĞµÑĞºÑƒÑ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¹:
â”Œâ”€ Ğ˜Ğ³Ñ€Ğ°
â”‚  â””â”€ Ğ¢Ğ¸Ğ¿ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ°
â”‚     â””â”€ ĞŸĞ¾Ğ´Ñ‚Ğ¸Ğ¿
â”‚        â””â”€ Ğ¡Ğ¿ĞµÑ†Ğ¸Ñ„Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹
ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ¸ĞµÑ€Ğ°Ñ€Ñ…Ğ¸Ğ¸ Ğ´Ğ»Ñ World of Warcraft:
World of Warcraft
â”œâ”€â”€ Ğ’Ğ°Ğ»ÑÑ‚Ğ°
â”‚   â”œâ”€â”€ Ğ—Ğ¾Ğ»Ğ¾Ñ‚Ğ¾
â”‚   â”‚   â”œâ”€â”€ Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹: ÑĞµÑ€Ğ²ĞµÑ€, Ñ„Ñ€Ğ°ĞºÑ†Ğ¸Ñ, Ğ¼ĞµÑ‚Ğ¾Ğ´ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸
â”‚   â””â”€â”€ Ğ”Ñ€ÑƒĞ³Ğ¸Ğµ Ğ²Ğ°Ğ»ÑÑ‚Ñ‹
â”œâ”€â”€ ĞŸÑ€ĞµĞ´Ğ¼ĞµÑ‚Ñ‹
â”‚   â”œâ”€â”€ ĞÑ€ÑƒĞ¶Ğ¸Ğµ
â”‚   â”‚   â”œâ”€â”€ ĞĞ´Ğ½Ğ¾Ñ€ÑƒÑ‡Ğ½Ğ¾Ğµ
â”‚   â”‚   â”‚   â”œâ”€â”€ Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹: ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ°, Ñ…Ğ°Ñ€Ğ°ĞºÑ‚ĞµÑ€Ğ¸ÑÑ‚Ğ¸ĞºĞ¸, Ñ‚Ñ€ĞµĞ±ÑƒĞµĞ¼Ñ‹Ğ¹ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ
â”‚   â”‚   â”œâ”€â”€ Ğ”Ğ²ÑƒÑ€ÑƒÑ‡Ğ½Ğ¾Ğµ
â”‚   â”‚   â””â”€â”€ Ğ”Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¹ Ğ±Ğ¾Ğ¹
â”‚   â”œâ”€â”€ Ğ‘Ñ€Ğ¾Ğ½Ñ
â”‚   â”‚   â”œâ”€â”€ Ğ¢ĞºĞ°Ğ½ĞµĞ²Ğ°Ñ
â”‚   â”‚   â”œâ”€â”€ ĞšĞ¾Ğ¶Ğ°Ğ½Ğ°Ñ
â”‚   â”‚   â”œâ”€â”€ ĞšĞ¾Ğ»ÑŒÑ‡ÑƒĞ¶Ğ½Ğ°Ñ
â”‚   â”‚   â””â”€â”€ Ğ›Ğ°Ñ‚Ğ½Ğ°Ñ
â”‚   â””â”€â”€ Ğ Ğ°ÑÑ…Ğ¾Ğ´Ğ½Ğ¸ĞºĞ¸
â”œâ”€â”€ Ğ£ÑĞ»ÑƒĞ³Ğ¸
â”‚   â”œâ”€â”€ ĞŸÑ€Ğ¾ĞºĞ°Ñ‡ĞºĞ° Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ¶Ğ°
â”‚   â”‚   â”œâ”€â”€ Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹: Ğ½Ğ°Ñ‡Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ, ĞºĞ¾Ğ½ĞµÑ‡Ğ½Ñ‹Ğ¹ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ, ĞºĞ»Ğ°ÑÑ, ÑÑ€Ğ¾Ğº
â”‚   â”œâ”€â”€ Ğ ĞµĞ¹Ğ´Ñ‹ Ğ¸ Ğ¿Ğ¾Ğ´Ğ·ĞµĞ¼ĞµĞ»ÑŒÑ
â”‚   â””â”€â”€ ĞŸÑ€Ğ¾Ñ„ĞµÑÑĞ¸Ğ¸
â””â”€â”€ ĞĞºĞºĞ°ÑƒĞ½Ñ‚Ñ‹
    â””â”€â”€ Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹: ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ, ĞºĞ»Ğ°ÑÑÑ‹, Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ, Ñ€ĞµĞ´ĞºĞ¸Ğµ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ñ‹
ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ¸ĞµÑ€Ğ°Ñ€Ñ…Ğ¸Ğ¸ Ğ´Ğ»Ñ Counter-Strike 2:
Counter-Strike 2
â”œâ”€â”€ Ğ¡ĞºĞ¸Ğ½Ñ‹
â”‚   â”œâ”€â”€ ĞÑ€ÑƒĞ¶Ğ¸Ğµ
â”‚   â”‚   â”œâ”€â”€ ĞĞ¾Ğ¶Ğ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹: Ñ€ĞµĞ´ĞºĞ¾ÑÑ‚ÑŒ, Ğ¸Ğ·Ğ½Ğ¾Ñ, StatTrak
â”‚   â”‚   â”œâ”€â”€ ĞŸĞ¸ÑÑ‚Ğ¾Ğ»ĞµÑ‚Ñ‹
â”‚   â”‚   â”œâ”€â”€ Ğ’Ğ¸Ğ½Ñ‚Ğ¾Ğ²ĞºĞ¸
â”‚   â”‚   â””â”€â”€ ĞŸĞ¸ÑÑ‚Ğ¾Ğ»ĞµÑ‚Ñ‹-Ğ¿ÑƒĞ»ĞµĞ¼ĞµÑ‚Ñ‹
â”‚   â””â”€â”€ ĞŸĞµÑ€Ñ‡Ğ°Ñ‚ĞºĞ¸
â”œâ”€â”€ ĞĞ°ĞºĞ»ĞµĞ¹ĞºĞ¸
â”œâ”€â”€ ĞšĞµĞ¹ÑÑ‹
â””â”€â”€ ĞĞºĞºĞ°ÑƒĞ½Ñ‚Ñ‹
    â””â”€â”€ Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹: Ñ€Ğ°Ğ½Ğ³, ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°, ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ÑĞºĞ¸Ğ½Ğ¾Ğ²
4.2.3 ĞœĞ¾Ğ´ĞµĞ»ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ´Ğ»Ñ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
sql-- Ğ˜Ğ³Ñ€Ñ‹
CREATE TABLE games (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    code TEXT NOT NULL UNIQUE,
    name TEXT NOT NULL,
    icon_url TEXT,
    is_active BOOLEAN DEFAULT TRUE
);

-- ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ²
CREATE TABLE item_categories (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    game_id UUID NOT NULL REFERENCES games(id),
    parent_id UUID REFERENCES item_categories(id),
    name TEXT NOT NULL,
    slug TEXT NOT NULL,
    level INTEGER NOT NULL,
    sort_order INTEGER NOT NULL DEFAULT 0,
    CONSTRAINT unique_category_slug_per_game UNIQUE (game_id, slug)
);

-- ĞÑ‚Ñ€Ğ¸Ğ±ÑƒÑ‚Ñ‹ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¹
CREATE TABLE category_attributes (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    category_id UUID NOT NULL REFERENCES item_categories(id),
    name TEXT NOT NULL,
    display_name TEXT NOT NULL,
    attribute_type TEXT NOT NULL, -- string, number, boolean, enum
    is_required BOOLEAN DEFAULT FALSE,
    is_filterable BOOLEAN DEFAULT FALSE,
    is_searchable BOOLEAN DEFAULT FALSE,
    default_value JSONB,
    validation_rules JSONB,
    enum_values JSONB,
    sort_order INTEGER NOT NULL DEFAULT 0,
    CONSTRAINT unique_attribute_per_category UNIQUE (category_id, name)
);

-- Ğ Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ¸Ğµ ItemTemplate
CREATE TABLE item_templates (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    game_id UUID NOT NULL REFERENCES games(id),
    category_id UUID NOT NULL REFERENCES item_categories(id),
    name TEXT NOT NULL,
    description TEXT,
    attributes JSONB NOT NULL DEFAULT '{}'::jsonb,
    created_at TIMESTAMPTZ NOT NULL DEFAULT now(),
    is_active BOOLEAN NOT NULL DEFAULT TRUE
);

-- Ğ˜Ğ½Ğ´ĞµĞºÑÑ‹ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ¸ÑĞºĞ°
CREATE INDEX idx_item_templates_category ON item_templates(category_id);
CREATE INDEX idx_item_templates_game ON item_templates(game_id);
CREATE INDEX idx_item_templates_attrs ON item_templates USING GIN(attributes);
4.2.4 Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€: Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ»Ğ¸ÑÑ‚Ğ¸Ğ½Ğ³Ğ° Ñ Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¼Ğ¸ Ğ°Ñ‚Ñ€Ğ¸Ğ±ÑƒÑ‚Ğ°Ğ¼Ğ¸
Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ:
httpPOST /api/v1/listings HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

{
  "game_id": "f8e7d6c5-b4a3-4d21-9e87-1f0e2cd3b4a5",
  "category_id": "a1b2c3d4-e5f6-4a5b-9c8d-7e6f5a4b3c2d",
  "title": "Ğ­Ğ¿Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¼ĞµÑ‡ Ğ›ĞµĞ´ÑĞ½Ğ¾Ğ³Ğ¾ Ğ²ĞµÑ‚Ñ€Ğ° +10",
  "price": "49.99",
  "currency": "USD",
  "quantity": 1,
  "attributes": {
    "item_level": 415,
    "required_level": 60,
    "weapon_type": "sword",
    "damage": 2450,
    "stats": {
      "strength": 120,
      "stamina": 85,
      "critical_strike": 45,
      "haste": 30
    },
    "enchantment": "frost_damage",
    "socket_count": 2,
    "binding": "bind_on_equip"
  },
  "delivery_method": "in_game_mail",
  "delivery_time": "within_1_hour",
  "expires_at": "2025-05-31T00:00:00Z",
  "description": "Ğ ĞµĞ´ĞºĞ¸Ğ¹ Ğ¼ĞµÑ‡ Ğ´Ñ€Ğ°ĞºĞ¾Ğ½Ğ° Ñ Ğ±Ğ¾Ğ½ÑƒÑĞ¾Ğ¼ Ğº ÑƒÑ€Ğ¾Ğ½Ñƒ +10"
}
ĞÑ‚Ğ²ĞµÑ‚:
httpHTTP/1.1 201 Created
Content-Type: application/json

{
  "id": "a27ba44e-0c47-48b5-8643-2e39a8e23fbc",
  "status": "ACTIVE",
  "fee": "5.00",
  "seller_id": "95c31220-b3be-4152-aea6-4d1d9c8c22ac",
  "game": {
    "id": "f8e7d6c5-b4a3-4d21-9e87-1f0e2cd3b4a5",
    "name": "World of Warcraft",
    "icon_url": "/games/wow.png"
  },
  "category": {
    "id": "a1b2c3d4-e5f6-4a5b-9c8d-7e6f5a4b3c2d",
    "name": "ĞÑ€ÑƒĞ¶Ğ¸Ğµ > ĞĞ´Ğ½Ğ¾Ñ€ÑƒÑ‡Ğ½Ğ¾Ğµ > ĞœĞµÑ‡Ğ¸"
  },
  "title": "Ğ­Ğ¿Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¼ĞµÑ‡ Ğ›ĞµĞ´ÑĞ½Ğ¾Ğ³Ğ¾ Ğ²ĞµÑ‚Ñ€Ğ° +10",
  "attributes": {
    "item_level": 415,
    "required_level": 60,
    "weapon_type": "sword",
    "damage": 2450,
    "stats": {
      "strength": 120,
      "stamina": 85,
      "critical_strike": 45,
      "haste": 30
    },
    "enchantment": "frost_damage",
    "socket_count": 2,
    "binding": "bind_on_equip"
  },
  "price": "49.99",
  "currency": "USD",
  "delivery_method": "in_game_mail",
  "delivery_time": "within_1_hour",
  "created_at": "2025-05-12T14:38:29Z",
  "expires_at": "2025-05-31T00:00:00Z",
  "images": []
}
4.2.5 Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€: ĞŸĞ¾Ğ¸ÑĞº Ñ Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¼Ğ¸ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ğ¼Ğ¸
Ğ—Ğ°Ğ¿Ñ€Ğ¾Ñ:
httpGET /api/v1/listings?game=world-of-warcraft&category=weapons/one-handed/swords&min_item_level=400&max_item_level=450&stats.strength.min=100&sort=price_asc&limit=20 HTTP/1.1
ĞÑ‚Ğ²ĞµÑ‚:
httpHTTP/1.1 200 OK
Content-Type: application/json

{
  "items": [
    {
      "id": "a27ba44e-0c47-48b5-8643-2e39a8e23fbc",
      "title": "Ğ­Ğ¿Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¼ĞµÑ‡ Ğ›ĞµĞ´ÑĞ½Ğ¾Ğ³Ğ¾ Ğ²ĞµÑ‚Ñ€Ğ° +10",
      "price": "49.99",
      "currency": "USD",
      "attributes": {
        "item_level": 415,
        "required_level": 60,
        "stats": {
          "strength": 120,
          "stamina": 85
        }
      },
      "images": ["/listings/a27ba44e/1.jpg"],
      "seller": {
        "id": "95c31220-b3be-4152-aea6-4d1d9c8c22ac",
        "display_name": "DragonSlayer",
        "rating": 4.8
      },
      "created_at": "2025-05-12T14:38:29Z"
    },
    // ... Ğ´Ñ€ÑƒĞ³Ğ¸Ğµ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ñ‹
  ],
  "filters": {
    "item_level": {
      "min": 410,
      "max": 450,
      "distribution": [
        {"value": 410, "count": 2},
        {"value": 415, "count": 5},
        {"value": 420, "count": 3},
        {"value": 440, "count": 1},
        {"value": 450, "count": 1}
      ]
    },
    "weapon_type": [
      {"value": "sword", "count": 8},
      {"value": "axe", "count": 4}
    ],
    "stats.strength": {
      "min": 100,
      "max": 145,
      "distribution": [
        {"range": "100-110", "count": 3},
        {"range": "111-120", "count": 5},
        {"range": "121-130", "count": 2},
        {"range": "131-145", "count": 2}
      ]
    }
    // ... Ğ´Ñ€ÑƒĞ³Ğ¸Ğµ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹
  },
  "pagination": {
    "total": 42,
    "limit": 20,
    "offset": 0,
    "next_offset": 20
  }
}
4.2.6 ĞŸÑ€Ğ¸Ğ¼ĞµÑ€: Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¼Ğ¸ Ğ°Ñ‚Ñ€Ğ¸Ğ±ÑƒÑ‚Ğ°Ğ¼Ğ¸ Ğ² Ğ°Ğ´Ğ¼Ğ¸Ğ½-Ğ¿Ğ°Ğ½ĞµĞ»Ğ¸
Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸:
json{
  "id": "a1b2c3d4-e5f6-4a5b-9c8d-7e6f5a4b3c2d",
  "game_id": "f8e7d6c5-b4a3-4d21-9e87-1f0e2cd3b4a5",
  "parent_id": "e9d8c7b6-a5f4-4e3d-2c1b-0a9b8c7d6e5f",
  "name": "ĞœĞµÑ‡Ğ¸",
  "slug": "swords",
  "level": 3,
  "attributes": [
    {
      "id": "b1a2d3c4-e5f6-7a8b-9c0d-1e2f3a4b5c6d",
      "name": "item_level",
      "display_name": "Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ°",
      "attribute_type": "number",
      "is_required": true,
      "is_filterable": true,
      "is_searchable": false,
      "validation_rules": {
        "min": 1,
        "max": 1000
      },
      "sort_order": 1
    },
    {
      "id": "c1b2a3d4-e5f6-7a8b-9c0d-1e2f3a4b5c6d",
      "name": "required_level",
      "display_name": "Ğ¢Ñ€ĞµĞ±ÑƒĞµĞ¼Ñ‹Ğ¹ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ",
      "attribute_type": "number",
      "is_required": true,
      "is_filterable": true,
      "is_searchable": false,
      "validation_rules": {
        "min": 1,
        "max": 70
      },
      "sort_order": 2
    },
    {
      "id": "d1c2b3a4-e5f6-7a8b-9c0d-1e2f3a4b5c6d",
      "name": "damage",
      "display_name": "Ğ£Ñ€Ğ¾Ğ½",
      "attribute_type": "number",
      "is_required": true,
      "is_filterable": true,
      "is_searchable": false,
      "sort_order": 3
    },
    {
      "id": "e1d2c3b4-a5f6-7a8b-9c0d-1e2f3a4b5c6d",
      "name": "stats",
      "display_name": "Ğ¥Ğ°Ñ€Ğ°ĞºÑ‚ĞµÑ€Ğ¸ÑÑ‚Ğ¸ĞºĞ¸",
      "attribute_type": "object",
      "is_required": true,
      "is_filterable": true,
      "is_searchable": false,
      "sub_attributes": [
        {
          "name": "strength",
          "display_name": "Ğ¡Ğ¸Ğ»Ğ°",
          "attribute_type": "number",
          "is_required": false,
          "is_filterable": true
        },
        {
          "name": "stamina",
          "display_name": "Ğ’Ñ‹Ğ½Ğ¾ÑĞ»Ğ¸Ğ²Ğ¾ÑÑ‚ÑŒ",
          "attribute_type": "number",
          "is_required": false,
          "is_filterable": true
        },
        {
          "name": "critical_strike",
          "display_name": "ĞšÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ÑƒĞ´Ğ°Ñ€",
          "attribute_type": "number",
          "is_required": false,
          "is_filterable": true
        },
        {
          "name": "haste",
          "display_name": "Ğ¡ĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ",
          "attribute_type": "number",
          "is_required": false,
          "is_filterable": true
        }
      ],
      "sort_order": 4
    },
    {
      "id": "f1e2d3c4-b5a6-7a8b-9c0d-1e2f3a4b5c6d",
      "name": "binding",
      "display_name": "ĞŸÑ€Ğ¸Ğ²ÑĞ·ĞºĞ°",
      "attribute_type": "enum",
      "is_required": true,
      "is_filterable": true,
      "is_searchable": false,
      "enum_values": [
        {"value": "bind_on_pickup", "label": "ĞŸÑ€Ğ¸Ğ²ÑĞ·Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ğ¿Ñ€Ğ¸ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğ¸"},
        {"value": "bind_on_equip", "label": "ĞŸÑ€Ğ¸Ğ²ÑĞ·Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ğ¿Ñ€Ğ¸ Ğ½Ğ°Ğ´ĞµĞ²Ğ°Ğ½Ğ¸Ğ¸"},
        {"value": "bind_on_use", "label": "ĞŸÑ€Ğ¸Ğ²ÑĞ·Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ğ¿Ñ€Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğ¸"},
        {"value": "no_binding", "label": "ĞĞµ Ğ¿Ñ€Ğ¸Ğ²ÑĞ·Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ"}
      ],
      "sort_order": 5
    }
  ]
}
4.3 ĞŸÑ€Ğ¾Ñ†ĞµÑÑ ÑĞ´ĞµĞ»ĞºĞ¸

Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ñ†Ğ¸Ñ ÑĞ´ĞµĞ»ĞºĞ¸ Ğ¿Ğ¾ĞºÑƒĞ¿Ğ°Ñ‚ĞµĞ»ĞµĞ¼
Escrow-Ğ¼ĞµÑ…Ğ°Ğ½Ğ¸Ğ·Ğ¼ Ñ Ñ…Ğ¾Ğ»Ğ´Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ ÑÑ€ĞµĞ´ÑÑ‚Ğ²
ĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ¾Ğ²
ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ²Ñ‹Ğ¿Ğ»Ğ°Ñ‚Ñ‹ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ²Ñ†Ğ°Ğ¼

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ ÑĞ´ĞµĞ»ĞºĞ¸:

ĞŸĞ¾ĞºÑƒĞ¿Ğ°Ñ‚ĞµĞ»ÑŒ Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ¸Ñ€ÑƒĞµÑ‚ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ñ: POST /api/v1/transactions
Ğ¡ĞµÑ€Ğ²Ğ¸Ñ Ğ·Ğ°Ğ¼Ğ¾Ñ€Ğ°Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ ÑÑ€ĞµĞ´ÑÑ‚Ğ²Ğ°: POST /api/v1/payments/hold
ĞŸÑ€Ğ¾Ğ´Ğ°Ğ²ĞµÑ† Ğ¿ĞµÑ€ĞµĞ´Ğ°ĞµÑ‚ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚ Ğ¿Ğ¾ĞºÑƒĞ¿Ğ°Ñ‚ĞµĞ»Ñ (off-platform)
ĞŸĞ¾ĞºÑƒĞ¿Ğ°Ñ‚ĞµĞ»ÑŒ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´Ğ°ĞµÑ‚ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ: POST /api/v1/transactions/{id}/complete
Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ¾ÑĞ²Ğ¾Ğ±Ğ¾Ğ¶Ğ´Ğ°ĞµÑ‚ ÑÑ€ĞµĞ´ÑÑ‚Ğ²Ğ° Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ²Ñ†Ñƒ: POST /api/v1/payments/capture

4.4 ĞšĞ¾ÑˆĞµĞ»ĞµĞº Ğ¸ Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶Ğ¸

Ğ’Ğ½ÑƒÑ‚Ñ€ĞµĞ½Ğ½Ğ¸Ğ¹ ĞºĞ¾ÑˆĞµĞ»ĞµĞº Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¹ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµĞ¼Ğ¾Ğ¹ Ğ²Ğ°Ğ»ÑÑ‚Ñ‹
Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ ÑĞ¾ Stripe Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ Ğ¸ Ğ²Ñ‹Ğ²Ğ¾Ğ´Ğ° ÑÑ€ĞµĞ´ÑÑ‚Ğ²
ĞœÑƒĞ»ÑŒÑ‚Ğ¸Ğ²Ğ°Ğ»ÑÑ‚Ğ½Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° (USD, EUR, GBP) Ñ Ğ°Ğ²Ñ‚Ğ¾ĞºĞ¾Ğ½Ğ²ĞµÑ€ÑĞ¸ĞµĞ¹
Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¹ Ğ¸ Ğ²Ñ‹Ğ¿Ğ¸ÑĞºĞ¸

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ ĞºĞ¾ÑˆĞµĞ»ÑŒĞºĞ°:
json{
  "id": "6721f4db-e2d4-4e23-bfd3-ba1d98152b0c",
  "user_id": "af7c441e-2e9c-48f0-8b27-3d39a8f2c9d5",
  "currency": "USD",
  "balance": "152.47",
  "transactions": [
    {
      "id": "f5d8e39a-c347-4321-b544-1f2b75c26ef9",
      "type": "DEPOSIT",
      "amount": "100.00",
      "status": "COMPLETED",
      "created_at": "2025-05-10T12:23:45Z"
    },
    {
      "id": "a2e4f918-b62d-4c17-9e88-7d2a3b4c5d6e",
      "type": "PURCHASE",
      "amount": "-19.99",
      "status": "COMPLETED",
      "created_at": "2025-05-11T09:15:22Z",
      "reference_id": "c8c40a32-6e0a-4d32-9c50-e48dd89e77ac"
    }
  ]
}
4.5 Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° ÑĞ¿Ğ¾Ñ€Ğ¾Ğ²

ĞÑ‚ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ ÑĞ¿Ğ¾Ñ€Ğ° Ğ¿Ñ€Ğ¸ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğµ Ñ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¾Ğ¹ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ°
Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ´Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒÑÑ‚Ğ² (ÑĞºÑ€Ğ¸Ğ½ÑˆĞ¾Ñ‚Ñ‹, Ğ²Ğ¸Ğ´ĞµĞ¾)
Ğ˜Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Ğ¼Ğ¾Ğ´ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€Ğ° Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ ÑĞ¿Ğ¾Ñ€Ğ¾Ğ²
ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ ÑÑ€ĞµĞ´ÑÑ‚Ğ² Ğ¿Ñ€Ğ¸ Ñ‚Ğ°Ğ¹Ğ¼-Ğ°ÑƒÑ‚Ğµ

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ ÑĞ¿Ğ¾Ñ€Ğ°:
httpPOST /api/v1/disputes HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

{
  "transaction_id": "c8c40a32-6e0a-4d32-9c50-e48dd89e77ac",
  "reason": "ITEM_NOT_RECEIVED",
  "description": "ĞŸÑ€Ğ¾Ğ´Ğ°Ğ²ĞµÑ† Ğ½Ğµ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ» Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚ Ğ² Ñ‚ĞµÑ‡ĞµĞ½Ğ¸Ğµ 24 Ñ‡Ğ°ÑĞ¾Ğ²",
  "evidence_urls": [
    "https://marketplace-media.s3.amazonaws.com/evidence/screenshot1.jpg"
  ]
}
4.6 Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ

Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ‡ĞµÑ€ĞµĞ· WebSocket Ğ´Ğ»Ñ Ğ¼Ğ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ñ‹Ñ… ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğ¹
Push-ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ Ğ² Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğµ
Email-ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ Ğ´Ğ»Ñ Ğ²Ğ°Ğ¶Ğ½Ñ‹Ñ… ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹
SMS-ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ:
json{
  "id": "a0f4e9d8-b7c6-4a3b-85e2-1d0c9b8a7f6e",
  "user_id": "af7c441e-2e9c-48f0-8b27-3d39a8f2c9d5",
  "type": "TRANSACTION_COMPLETED",
  "title": "Ğ¡Ğ´ĞµĞ»ĞºĞ° Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ°",
  "body": "Ğ¡Ğ´ĞµĞ»ĞºĞ° #c8c40a32 ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ°. ĞĞµ Ğ·Ğ°Ğ±ÑƒĞ´ÑŒÑ‚Ğµ Ğ¾ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¾Ñ‚Ğ·Ñ‹Ğ²!",
  "created_at": "2025-05-12T15:42:18Z",
  "read": false,
  "action_url": "/transactions/c8c40a32-6e0a-4d32-9c50-e48dd89e77ac/review"
}
4.7 Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ñ€ĞµĞ¿ÑƒÑ‚Ğ°Ñ†Ğ¸Ğ¸

Ğ ĞµĞ¹Ñ‚Ğ¸Ğ½Ğ³ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ²Ñ†Ğ¾Ğ² Ğ¸ Ğ¿Ğ¾ĞºÑƒĞ¿Ğ°Ñ‚ĞµĞ»ĞµĞ¹ (1-5 Ğ·Ğ²ĞµĞ·Ğ´)
Ğ¢ĞµĞºÑÑ‚Ğ¾Ğ²Ñ‹Ğµ Ğ¾Ñ‚Ğ·Ñ‹Ğ²Ñ‹ Ğ¾ ÑĞ´ĞµĞ»ĞºĞ°Ñ…
Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° ÑƒÑĞ¿ĞµÑˆĞ½Ñ‹Ñ… ÑĞ´ĞµĞ»Ğ¾Ğº
Ğ’ĞµÑ€Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ¾Ñ‚Ğ·Ñ‹Ğ²Ğ°:
json{
  "id": "1d2e3f4a-5b6c-7d8e-9f0a-1b2c3d4e5f6a",
  "transaction_id": "c8c40a32-6e0a-4d32-9c50-e48dd89e77ac",
  "author_id": "af7c441e-2e9c-48f0-8b27-3d39a8f2c9d5",
  "recipient_id": "95c31220-b3be-4152-aea6-4d1d9c8c22ac",
  "rating": 5,
  "comment": "ĞÑ‚Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ²ĞµÑ†, Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ğ» Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚. Ğ ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´ÑƒÑ!",
  "created_at": "2025-05-12T16:30:45Z"
}
4.8 Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ñ‡Ğ°Ñ‚Ğ° Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ¿Ğ¾ĞºÑƒĞ¿Ğ°Ñ‚ĞµĞ»ĞµĞ¼ Ğ¸ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ²Ñ†Ğ¾Ğ¼
ĞŸĞ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ğ° Ğ¿Ñ€ĞµĞ´Ğ¾ÑÑ‚Ğ°Ğ²Ğ»ÑĞµÑ‚ Ğ²ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½ÑƒÑ ÑĞ¸ÑÑ‚ĞµĞ¼Ñƒ Ğ¾Ğ±Ğ¼ĞµĞ½Ğ° ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸ÑĞ¼Ğ¸ Ğ´Ğ»Ñ Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾Ğ¹ Ğ¸ ÑƒĞ´Ğ¾Ğ±Ğ½Ğ¾Ğ¹ ĞºĞ¾Ğ¼Ğ¼ÑƒĞ½Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ¿Ğ¾ĞºÑƒĞ¿Ğ°Ñ‚ĞµĞ»ÑĞ¼Ğ¸ Ğ¸ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ²Ñ†Ğ°Ğ¼Ğ¸.
4.8.1 Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸ Ñ‡Ğ°Ñ‚Ğ°

ĞĞ±Ğ¼ĞµĞ½ Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ²Ñ‹Ğ¼Ğ¸ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸ÑĞ¼Ğ¸ Ğ² Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸
ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹ (ÑĞºÑ€Ğ¸Ğ½ÑˆĞ¾Ñ‚Ğ¾Ğ² Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ñ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‡Ğ¸ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ¾Ğ²)
Ğ¥Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ğ¸ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹ Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¹ ÑĞ´ĞµĞ»ĞºĞ¸
Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ Ğ¾ Ğ½Ğ¾Ğ²Ñ‹Ñ… ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸ÑÑ…
ĞœĞ¾Ğ´ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ñ‡Ğ°Ñ‚Ğ¾Ğ² Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ ÑĞ¿Ğ¾Ñ€Ğ¾Ğ²

4.8.2 Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

WebSocket-ÑĞ¾ĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ğµ Ğ´Ğ»Ñ Ğ´Ğ¾ÑÑ‚Ğ°Ğ²ĞºĞ¸ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹ Ğ² Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸
Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ğ¸ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹ Ğ² Ğ±Ğ°Ğ·Ñƒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
ĞÑ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ğ¼Ğ¸ĞºÑ€Ğ¾ÑĞµÑ€Ğ²Ğ¸Ñ chat-svc Ğ´Ğ»Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹
Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¾Ğ¹ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğ¹
End-to-end ÑˆĞ¸Ñ„Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ´Ğ»Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ´ĞµĞ½Ñ†Ğ¸Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸

4.8.3 ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ° Ğ¸ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ñ

Ğ§Ğ°Ñ‚ ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑÑ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½ Ğ¿Ğ¾ÑĞ»Ğµ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸ Ğ¸ Ğ´Ğ¾ Ğ¸ÑÑ‚ĞµÑ‡ĞµĞ½Ğ¸Ñ 30 Ğ´Ğ½ĞµĞ¹ Ğ¿Ğ¾ÑĞ»Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ñ ÑĞ´ĞµĞ»ĞºĞ¸
ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ğµ Ğ½Ğ° Ñ€Ğ°Ğ·Ğ¼ĞµÑ€ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹: 1000 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ²
ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ğµ Ğ½Ğ° Ñ€Ğ°Ğ·Ğ¼ĞµÑ€ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹: Ğ´Ğ¾ 5 ĞœĞ‘
ĞœĞ¾Ğ´ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€Ñ‹ Ğ¸Ğ¼ĞµÑÑ‚ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ Ğº Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ğ¸ Ñ‡Ğ°Ñ‚Ğ° Ğ² ÑĞ»ÑƒÑ‡Ğ°Ğµ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ğ¸Ñ ÑĞ¿Ğ¾Ñ€Ğ°
ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ½ĞµÑ†ĞµĞ½Ğ·ÑƒÑ€Ğ½Ğ¾Ğ¹ Ğ»ĞµĞºÑĞ¸ĞºĞ¸

4.8.4 Ğ˜Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Ñ‡Ğ°Ñ‚Ğ°

Ğ’ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Ğ½Ğ° ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğµ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸
ĞÑ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ Ñ€Ğ°Ğ·Ğ´ĞµĞ» Ğ² Ğ»Ğ¸Ñ‡Ğ½Ğ¾Ğ¼ ĞºĞ°Ğ±Ğ¸Ğ½ĞµÑ‚Ğµ ÑĞ¾ Ğ²ÑĞµĞ¼Ğ¸ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¼Ğ¸ Ñ‡Ğ°Ñ‚Ğ°Ğ¼Ğ¸
Ğ˜Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€Ñ‹ ÑÑ‚Ğ°Ñ‚ÑƒÑĞ° (Ğ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ½Ğ¾/Ğ½Ğµ Ğ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ½Ğ¾)
Ğ˜Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€Ñ‹ Ğ¿Ñ€Ğ¸ÑÑƒÑ‚ÑÑ‚Ğ²Ğ¸Ñ ÑĞ¾Ğ±ĞµÑĞµĞ´Ğ½Ğ¸ĞºĞ° Ğ¾Ğ½Ğ»Ğ°Ğ¹Ğ½

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ:
json{
  "id": "d2f8e9c7-b6a5-4d23-81fe-7a9c4b5d3e2f",
  "transaction_id": "c8c40a32-6e0a-4d32-9c50-e48dd89e77ac",
  "sender_id": "af7c441e-2e9c-48f0-8b27-3d39a8f2c9d5",
  "recipient_id": "95c31220-b3be-4152-aea6-4d1d9c8c22ac",
  "content": "ĞŸÑ€Ğ¸Ğ²ĞµÑ‚! Ğ¯ Ğ³Ğ¾Ñ‚Ğ¾Ğ² Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‚ÑŒ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚. Ğ’ ĞºĞ°ĞºĞ¾Ğµ Ğ²Ñ€ĞµĞ¼Ñ Ñ‚ĞµĞ±Ğµ ÑƒĞ´Ğ¾Ğ±Ğ½Ğ¾?",
  "type": "text", // text, image
  "image_url": null,
  "created_at": "2025-05-12T15:23:47Z",
  "read_at": null,
  "is_system": false // true Ğ´Ğ»Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ½Ñ‹Ñ… ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹
}
4.8.5 API-ÑĞ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚Ñ‹ Ğ´Ğ»Ñ Ñ‡Ğ°Ñ‚Ğ°
ĞœĞµÑ‚Ğ¾Ğ´URLĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸ĞµGET/v1/chatsĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ñ… Ñ‡Ğ°Ñ‚Ğ¾Ğ² Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑGET/v1/chats/{transaction_id}ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹ Ğ¿Ğ¾ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸POST/v1/chats/{transaction_id}/messagesĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ğ¾Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸ĞµPATCH/v1/chats/{transaction_id}/messages/{message_id}/readĞÑ‚Ğ¼ĞµÑ‚Ğ¸Ñ‚ÑŒ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ½Ğ½Ñ‹Ğ¼POST/v1/chats/{transaction_id}/messages/imageĞ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸ĞµDELETE/v1/chats/{transaction_id}/messages/{message_id}Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ (Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ÑĞ²Ğ¾Ğ¸)
4.8.6 WebSocket API
javascript// ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ Ğº WebSocket Ñ‡Ğ°Ñ‚Ğ°
const socket = new WebSocket('wss://api.gametrade.com/v1/chats/ws');

// ĞĞ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
socket.onopen = () => {
  socket.send(JSON.stringify({
    type: 'auth',
    token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...'
  }));
};

// ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑĞºĞ° Ğ½Ğ° Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ½ÑƒÑ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ñ
socket.send(JSON.stringify({
  type: 'subscribe',
  transaction_id: 'c8c40a32-6e0a-4d32-9c50-e48dd89e77ac'
}));

// ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ²Ñ…Ğ¾Ğ´ÑÑ‰Ğ¸Ñ… ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹
socket.onmessage = (event) => {
  const message = JSON.parse(event.data);
  console.log('ĞĞ¾Ğ²Ğ¾Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ:', message);
};

// ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ
socket.send(JSON.stringify({
  type: 'message',
  transaction_id: 'c8c40a32-6e0a-4d32-9c50-e48dd89e77ac',
  content: 'ĞŸÑ€Ğ¸Ğ²ĞµÑ‚! ĞšĞ¾Ğ³Ğ´Ğ° Ğ±ÑƒĞ´ĞµÑˆÑŒ Ğ³Ğ¾Ñ‚Ğ¾Ğ² Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‚ÑŒ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚?'
}));
4.8.7 ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

ĞŸĞ¾ĞºÑƒĞ¿Ğ°Ñ‚ĞµĞ»ÑŒ ÑĞ¾Ğ·Ğ´Ğ°ĞµÑ‚ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ñ Ğ´Ğ»Ñ Ğ¿Ğ¾ĞºÑƒĞ¿ĞºĞ¸ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ°
Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ ÑĞ¾Ğ·Ğ´Ğ°ĞµÑ‚ Ñ‡Ğ°Ñ‚ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ¿Ğ¾ĞºÑƒĞ¿Ğ°Ñ‚ĞµĞ»ĞµĞ¼ Ğ¸ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ²Ñ†Ğ¾Ğ¼
ĞŸÑ€Ğ¾Ğ´Ğ°Ğ²ĞµÑ† Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğµ Ğ¾ Ğ½Ğ¾Ğ²Ğ¾Ğ¹ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸ Ğ¸ Ğ²Ñ…Ğ¾Ğ´Ğ¸Ñ‚ Ğ² Ñ‡Ğ°Ñ‚
Ğ¡Ñ‚Ğ¾Ñ€Ğ¾Ğ½Ñ‹ Ğ´Ğ¾Ğ³Ğ¾Ğ²Ğ°Ñ€Ğ¸Ğ²Ğ°ÑÑ‚ÑÑ Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸ Ğ¸ ÑĞ¿Ğ¾ÑĞ¾Ğ±Ğµ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‡Ğ¸ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ°
ĞŸÑ€Ğ¾Ğ´Ğ°Ğ²ĞµÑ† Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ ÑĞºÑ€Ğ¸Ğ½ÑˆĞ¾Ñ‚/Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ Ğ¿ĞµÑ€ĞµĞ´Ğ°Ñ‡Ğ¸ Ñ‡ĞµÑ€ĞµĞ· Ñ‡Ğ°Ñ‚
ĞŸĞ¾ĞºÑƒĞ¿Ğ°Ñ‚ĞµĞ»ÑŒ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´Ğ°ĞµÑ‚ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ, Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞ°Ñ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ñ
Ğ§Ğ°Ñ‚ Ğ¾ÑÑ‚Ğ°ĞµÑ‚ÑÑ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğ¼ ĞµÑ‰Ğµ 30 Ğ´Ğ½ĞµĞ¹ Ğ´Ğ»Ñ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ñ‹Ñ… Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²

4.8.8 Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ¾Ğ¹ ÑĞ¿Ğ¾Ñ€Ğ¾Ğ²
Ğ’ ÑĞ»ÑƒÑ‡Ğ°Ğµ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ğ¸Ñ ÑĞ¿Ğ¾Ñ€Ğ°:

Ğ’ÑÑ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ¿ĞµÑ€ĞµĞ¿Ğ¸ÑĞºĞ¸ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¿Ñ€Ğ¸ĞºÑ€ĞµĞ¿Ğ»ÑĞµÑ‚ÑÑ Ğº ÑĞ¿Ğ¾Ñ€Ñƒ
ĞœĞ¾Ğ´ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°ĞµÑ‚ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ Ğº Ñ‡Ğ°Ñ‚Ñƒ Ğ´Ğ»Ñ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ° ÑĞ¸Ñ‚ÑƒĞ°Ñ†Ğ¸Ğ¸
ĞœĞ¾Ğ´ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑ‚ÑŒ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ½Ñ‹Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ Ğ¾Ğ±ĞµĞ¸Ğ¼ ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ğ°Ğ¼
Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ½Ñ‹Ğµ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ Ğ¾ ÑÑ‚Ğ°Ñ‚ÑƒÑĞµ ÑĞ¿Ğ¾Ñ€Ğ° Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑÑÑ‚ÑÑ Ğ² Ñ‡Ğ°Ñ‚

4.9 ĞĞ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ Ğ´Ğ»Ñ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ğ¾Ğ²

Ğ”Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´ Ñ ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ğ¼Ğ¸ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ°Ğ¼Ğ¸ Ğ±Ğ¸Ğ·Ğ½ĞµÑĞ°
Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ°Ñ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ¿Ğ¾ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶Ğ°Ğ¼, Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑĞ¼ Ğ¸ ÑĞ¿Ğ¾Ñ€Ğ°Ğ¼
Ğ“Ñ€Ğ°Ñ„Ğ¸ĞºĞ¸ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¸ ĞºĞ¾Ğ½Ğ²ĞµÑ€ÑĞ¸Ğ¹
Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ¾Ñ‚Ñ‡ĞµÑ‚Ğ¾Ğ² Ğ² CSV/Excel

ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸ Ğ´Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´Ğ°:

ĞĞ±Ñ‰Ğ¸Ğ¹ Ğ¾Ğ±ÑŠĞµĞ¼ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶ (GMV) Ğ·Ğ° Ğ¿ĞµÑ€Ğ¸Ğ¾Ğ´
ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ñ… Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹ (DAU/MAU)
Ğ¡Ñ€ĞµĞ´Ğ½Ğ¸Ğ¹ Ñ‡ĞµĞº Ğ¸ ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸Ñ Ğ¿Ğ»Ğ°Ñ‚Ñ„Ğ¾Ñ€Ğ¼Ñ‹
Conversion rate Ğ²Ğ¾Ñ€Ğ¾Ğ½ĞºĞ¸ Ğ¿Ğ¾ĞºÑƒĞ¿ĞºĞ¸
ĞŸÑ€Ğ¾Ñ†ĞµĞ½Ñ‚ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ Ğ·Ğ°ĞºÑ€Ñ‹Ñ‚Ñ‹Ñ… ÑĞ¿Ğ¾Ñ€Ğ¾Ğ²
TOP-10 Ğ¿Ğ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ñ… Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ¾Ğ² Ğ¸ Ğ¸Ğ³Ñ€

ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ Ğ´Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´Ğ°:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸        â”‚ â”‚ ĞŸÑ€Ğ¾Ğ´Ğ°Ğ¶Ğ¸ Ğ¿Ğ¾ Ğ¸Ğ³Ñ€Ğ°Ğ¼        â”‚
â”‚ GMV: $125,432           â”‚ â”‚ [ĞšÑ€ÑƒĞ³Ğ¾Ğ²Ğ°Ñ Ğ´Ğ¸Ğ°Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ°]    â”‚
â”‚ Ğ¢Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸: 834         â”‚ â”‚                         â”‚
â”‚ Ğ¡Ñ€. Ñ‡ĞµĞº: $150.4         â”‚ â”‚                         â”‚
â”‚ ĞšĞ¾Ğ¼Ğ¸ÑÑĞ¸Ñ: $12,543       â”‚ â”‚                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ĞĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹â”‚ â”‚ Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° ÑĞ¿Ğ¾Ñ€Ğ¾Ğ²       â”‚
â”‚ [Ğ“Ñ€Ğ°Ñ„Ğ¸Ğº Ğ¿Ğ¾ Ğ´Ğ½ÑĞ¼]        â”‚ â”‚ ĞÑ‚ĞºÑ€Ñ‹Ñ‚Ğ¾: 24             â”‚
â”‚                         â”‚ â”‚ Ğ ĞµÑˆĞµĞ½Ğ¾: 22              â”‚
â”‚                         â”‚ â”‚ Ğ¡Ñ€ĞµĞ´Ğ½ĞµĞµ Ğ²Ñ€ĞµĞ¼Ñ: 1.2 Ğ´Ğ½Ñ  â”‚
â”‚                         â”‚ â”‚ Ğ’ Ğ¿Ğ¾Ğ»ÑŒĞ·Ñƒ Ğ¿Ğ¾ĞºÑƒĞ¿Ğ°Ñ‚ĞµĞ»Ñ: 60%â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğµ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸                                  â”‚
â”‚ ID         | Ğ¡ÑƒĞ¼Ğ¼Ğ°   | Ğ˜Ğ³Ñ€Ğ°        | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ | Ğ’Ñ€ĞµĞ¼Ñ   â”‚
â”‚ a27ba44e.. | $19.99  | Dragon Quest| COMPLETED| 14:38 â”‚
â”‚ f8e91c5d.. | $45.50  | CS 2        | ESCROW  | 13:22  â”‚
â”‚ ...                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Ğ­ĞºÑ€Ğ°Ğ½Ñ‹ Ğ°Ğ´Ğ¼Ğ¸Ğ½-Ğ¿Ğ°Ğ½ĞµĞ»Ğ¸:

Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ Ğ´Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´ (Ğ¾Ğ±Ğ·Ğ¾Ñ€ Ğ¼ĞµÑ‚Ñ€Ğ¸Ğº)
Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑĞ¼Ğ¸
ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¹
ĞœĞ¾Ğ´ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ»Ğ¸ÑÑ‚Ğ¸Ğ½Ğ³Ğ¾Ğ²
Ğ Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ ÑĞ¿Ğ¾Ñ€Ğ¾Ğ²
ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ ĞºĞ¾Ğ¼Ğ¸ÑÑĞ¸Ğ¹ Ğ¸ Ğ»Ğ¸Ğ¼Ğ¸Ñ‚Ğ¾Ğ²
ĞÑ‚Ñ‡ĞµÑ‚Ñ‹ Ğ¸ Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ°

5. API Ğ¸ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¸
5.1 REST API
Ğ’ÑĞµ ÑĞµÑ€Ğ²Ğ¸ÑÑ‹ Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºÑƒÑÑ‚ OpenAPI 3.1 ÑĞ¿ĞµÑ†Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ, Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµĞ¼ÑƒÑ Ğ¸Ğ· ĞºĞ¾Ğ´-Ğ°Ğ½Ğ½Ğ¾Ñ‚Ğ°Ñ†Ğ¸Ğ¹.
5.2 auth-service
ĞœĞµÑ‚Ğ¾Ğ´URLAuthĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸ĞµPOST/v1/auth/registernoneĞ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑPOST/v1/auth/loginnoneĞ’Ñ…Ğ¾Ğ´ Ğ² ÑĞ¸ÑÑ‚ĞµĞ¼ÑƒPOST/v1/auth/refreshrefresh_tokenĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ‚Ğ¾ĞºĞµĞ½Ğ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ°GET/v1/auth/meuserĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑPATCH/v1/auth/profileuserĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»Ñ
5.3 marketplace-service
ĞœĞµÑ‚Ğ¾Ğ´URLAuthĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸ĞµPOST/v1/listingssellerĞ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ»Ğ¾Ñ‚GET/v1/listings/{id}anyĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ»Ğ¾Ñ‚PATCH/v1/listings/{id}sellerĞ˜Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ñ†ĞµĞ½Ñƒ/ÑÑ‚Ğ°Ñ‚ÑƒÑDELETE/v1/listings/{id}sellerĞ¡Ğ½ÑÑ‚ÑŒ Ñ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ¶Ğ¸GET/v1/listingsanyĞŸĞ¾Ğ¸ÑĞº Ğ»Ğ¾Ñ‚Ğ¾Ğ² Ñ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ğ¼Ğ¸POST/v1/transactionsbuyerĞ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸ÑGET/v1/transactions/{id}buyer/sellerĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸POST/v1/transactions/{id}/completebuyerĞŸĞ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ´Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ°POST/v1/disputesbuyer/sellerĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ ÑĞ¿Ğ¾Ñ€
5.4 Ğ§Ğ°Ñ‚-ÑĞµÑ€Ğ²Ğ¸Ñ
EndpointĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸ĞµGET /v1/chatsĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ñ… Ñ‡Ğ°Ñ‚Ğ¾Ğ² Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑGET /v1/chats/{transaction_id}ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹ Ğ¿Ğ¾ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸POST /v1/chats/{transaction_id}/messagesĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ğ¾Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸ĞµPATCH /v1/chats/{transaction_id}/messages/{message_id}/readĞÑ‚Ğ¼ĞµÑ‚Ğ¸Ñ‚ÑŒ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ½Ğ½Ñ‹Ğ¼POST /v1/chats/{transaction_id}/messages/imageĞ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸ĞµDELETE /v1/chats/{transaction_id}/messages/{message_id}Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸ĞµGET /v1/chats/wsWebSocket-ÑĞ¾ĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ğµ Ğ´Ğ»Ñ Ñ‡Ğ°Ñ‚Ğ°
WebSocket Protocol:
{
  "type": "[auth|subscribe|message|typing|read]",
  "transaction_id": "uuid", // Ğ”Ğ»Ñ Ğ²ÑĞµÑ… Ñ‚Ğ¸Ğ¿Ğ¾Ğ² ĞºÑ€Ğ¾Ğ¼Ğµ auth
  "token": "jwt-token", // Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ auth
  "content": "text", // Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ message
  "message_id": "uuid" // Ğ”Ğ»Ñ read
}
5.5 notification-service
ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµÑ‚ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ Ñ‡ĞµÑ€ĞµĞ· Webâ€‘Push Ğ¸ Email (SES) Ğ½Ğ° Ğ±Ğ°Ğ·Ğµ ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ğ¾Ğ² Handlebars.
EndpointĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸ĞµPOST /v1/notificationsĞ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸ĞµGET /v1/notifications/user/{user_id}ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑPATCH /v1/notifications/{id}/readĞÑ‚Ğ¼ĞµÑ‚Ğ¸Ñ‚ÑŒ ĞºĞ°Ğº Ğ¿Ñ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ½Ğ½Ğ¾ĞµPOST /v1/notifications/subscribeĞŸĞ¾Ğ´Ğ¿Ğ¸ÑĞ°Ñ‚ÑŒÑÑ Ğ½Ğ° WebSocket ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ
5.6 payment-service
EndpointĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸ĞµPOST /v1/payments/holdĞ—Ğ°Ğ¼Ğ¾Ñ€Ğ¾Ğ·Ğ¸Ñ‚ÑŒ ÑÑ€ĞµĞ´ÑÑ‚Ğ²Ğ° (Stripe PI)POST /v1/payments/captureĞŸĞµÑ€ĞµĞ²ĞµÑÑ‚Ğ¸ ÑÑ€ĞµĞ´ÑÑ‚Ğ²Ğ° Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ²Ñ†ÑƒPOST /v1/payments/refundĞ§ĞĞ¡Ğ¢Ğ˜Ğ§ĞĞ«Ğ™/ĞŸĞĞ›ĞĞ«Ğ™ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚GET /v1/wallet/{user_id}/balanceĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ±Ğ°Ğ»Ğ°Ğ½Ñ ĞºĞ¾ÑˆĞµĞ»ÑŒĞºĞ°POST /v1/wallet/depositĞŸĞ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ ĞºĞ¾ÑˆĞµĞ»ĞµĞºPOST /v1/wallet/withdrawĞ’Ñ‹Ğ²ĞµÑÑ‚Ğ¸ ÑÑ€ĞµĞ´ÑÑ‚Ğ²Ğ°
Webhook /v1/webhooks/stripe â€” Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑÑŒ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ÑÑ Ğ¿Ğ¾ HMACâ€‘SHA256.
6. ĞœĞ¾Ğ´ĞµĞ»ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
6.1 Core Entities
users
sqlCREATE TABLE users (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    email CITEXT UNIQUE NOT NULL,
    hashed_password TEXT NOT NULL,
    role user_role NOT NULL DEFAULT 'user',
    created_at TIMESTAMPTZ NOT NULL DEFAULT now()
);
profiles
sqlCREATE TABLE profiles (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    display_name TEXT NOT NULL,
    avatar_url TEXT,
    CONSTRAINT unique_user_profile UNIQUE (user_id)
);
wallets
sqlCREATE TABLE wallets (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    currency CHAR(3) NOT NULL,
    balance NUMERIC(14,2) NOT NULL DEFAULT 0.00,
    CONSTRAINT positive_balance CHECK (balance >= 0.00),
    CONSTRAINT unique_user_currency UNIQUE (user_id, currency)
);
listings
sqlCREATE TABLE listings (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    item_template_id UUID NOT NULL REFERENCES item_templates(id),
    seller_id UUID NOT NULL REFERENCES users(id),
    price NUMERIC(14,2) NOT NULL,
    currency CHAR(3) NOT NULL,
    status listing_status NOT NULL DEFAULT 'PENDING',
    created_at TIMESTAMPTZ NOT NULL DEFAULT now(),
    expires_at TIMESTAMPTZ NOT NULL,
    description TEXT
);
transactions
sqlCREATE TABLE transactions (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    listing_id UUID NOT NULL REFERENCES listings(id),
    buyer_id UUID NOT NULL REFERENCES users(id),
    amount NUMERIC(14,2) NOT NULL,
    fee NUMERIC(14,2) NOT NULL,
    status txn_status NOT NULL DEFAULT 'PENDING',
    escrow_payment_id TEXT,
    created_at TIMESTAMPTZ NOT NULL DEFAULT now(),
    closed_at TIMESTAMPTZ
);
6.2 Enums Ğ¸ ĞºĞ¾Ğ½ÑÑ‚Ğ°Ğ½Ñ‚Ñ‹
sqlCREATE TYPE user_role AS ENUM ('user', 'moderator', 'admin');
CREATE TYPE listing_status AS ENUM ('PENDING', 'ACTIVE', 'SOLD', 'EXPIRED', 'BANNED');
CREATE TYPE txn_status AS ENUM ('PENDING', 'ESCROW_HELD', 'COMPLETED', 'REFUNDED', 'DISPUTED');
CREATE TYPE dispute_status AS ENUM ('OPEN', 'RESOLVED_BUYER', 'RESOLVED_SELLER', 'RESOLVED_SPLIT');
6.3 Entity Relationship Diagram (ERD)
USER(id) --1:N--> LISTING(seller_id)
USER(id) --1:N--> TRANSACTION(buyer_id)
USER(id) --1:1--> PROFILE(user_id)
USER(id) --1:N--> WALLET(user_id)
USER(id) --1:N--> RATING(author_id)

ITEMTEMPLATE(id) --1:N--> LISTING(item_template_id)

LISTING(id) --1:1--> TRANSACTION(listing_id)
LISTING(id) --1:N--> LISTING_IMAGE(listing_id)

TRANSACTION(id) --1:1--> ESCROW_PAYMENT(transaction_id)
TRANSACTION(id) --1:1--> DISPUTE(transaction_id)
TRANSACTION(id) --1:N--> RATING(transaction_id)

WALLET(id) --1:N--> WALLET_TX(wallet_id)

DISPUTE(id) --1:N--> DISPUTE_MSG(dispute_id)
6.4 Ğ”Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ°Ñ ÑÑ…ĞµĞ¼Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ´Ğ»Ñ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
Ğ”Ğ»Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ¸ Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ñ… Ğ¸Ğ³Ñ€ Ñ Ğ¸Ñ… ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¼Ğ¸ Ñ‚Ğ¸Ğ¿Ğ°Ğ¼Ğ¸ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ² Ğ¸ Ğ°Ñ‚Ñ€Ğ¸Ğ±ÑƒÑ‚Ğ°Ğ¼Ğ¸ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ¾Ğ² Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ° Ğ³Ğ¸Ğ±ĞºĞ°Ñ ÑÑ…ĞµĞ¼Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…:
sql-- Ğ˜Ğ³Ñ€Ñ‹
CREATE TABLE games (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    code TEXT NOT NULL UNIQUE,
    name TEXT NOT NULL,
    icon_url TEXT,
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMPTZ NOT NULL DEFAULT now()
);

-- ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸ Ñ‚Ğ¾Ğ²Ğ°Ñ€Ğ¾Ğ² (Ğ¸ĞµÑ€Ğ°Ñ€Ñ…Ğ¸Ñ‡ĞµÑĞºĞ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°)
CREATE TABLE item_categories (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    game_id UUID NOT NULL REFERENCES games(id),
    parent_id UUID REFERENCES item_categories(id),
    name TEXT NOT NULL,
    slug TEXT NOT NULL,
    level INTEGER NOT NULL, -- ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ Ğ²Ğ»Ğ¾Ğ¶ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸
    sort_order INTEGER NOT NULL DEFAULT 0,
    icon_url TEXT,
    is_active BOOLEAN DEFAULT TRUE,
    CONSTRAINT unique_category_slug_per_game UNIQUE (game_id, slug)
);

-- ĞÑ‚Ñ€Ğ¸Ğ±ÑƒÑ‚Ñ‹ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¹
CREATE TABLE category_attributes (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    category_id UUID NOT NULL REFERENCES item_categories(id),
    name TEXT NOT NULL,
    display_name TEXT NOT NULL,
    attribute_type TEXT NOT NULL, -- string, number, boolean, enum, object
    is_required BOOLEAN DEFAULT FALSE,
    is_filterable BOOLEAN DEFAULT FALSE,
    is_searchable BOOLEAN DEFAULT FALSE,
    default_value JSONB,
    validation_rules JSONB,
    enum_values JSONB,
    sub_attributes JSONB, -- Ğ´Ğ»Ñ Ğ²Ğ»Ğ¾Ğ¶ĞµĞ½Ğ½Ñ‹Ñ… Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ¾Ğ²
    sort_order INTEGER NOT NULL DEFAULT 0,
    CONSTRAINT unique_attribute_per_category UNIQUE (category_id, name)
);

-- Ğ¨Ğ°Ğ±Ğ»Ğ¾Ğ½Ñ‹ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ¾Ğ² Ñ Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¼Ğ¸ Ğ°Ñ‚Ñ€Ğ¸Ğ±ÑƒÑ‚Ğ°Ğ¼Ğ¸
CREATE TABLE item_templates (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    game_id UUID NOT NULL REFERENCES games(id),
    category_id UUID NOT NULL REFERENCES item_categories(id),
    name TEXT NOT NULL,
    description TEXT,
    attributes JSONB NOT NULL DEFAULT '{}'::jsonb,
    created_at TIMESTAMPTZ NOT NULL DEFAULT now(),
    is_active BOOLEAN NOT NULL DEFAULT TRUE
);

-- Ğ Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ½Ğ°Ñ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ğ»Ğ¾Ñ‚Ğ¾Ğ² Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ¸ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¹ Ğ¸ Ğ°Ñ‚Ñ€Ğ¸Ğ±ÑƒÑ‚Ğ¾Ğ²
CREATE TABLE listings (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    seller_id UUID NOT NULL REFERENCES users(id),
    game_id UUID NOT NULL REFERENCES games(id),
    category_id UUID NOT NULL REFERENCES item_categories(id),
    item_template_id UUID REFERENCES item_templates(id), -- Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾
    title TEXT NOT NULL,
    description TEXT,
    price NUMERIC(14,2) NOT NULL,
    currency CHAR(3) NOT NULL,
    quantity INTEGER NOT NULL DEFAULT 1,
    attributes JSONB NOT NULL DEFAULT '{}'::jsonb,
    delivery_method TEXT NOT NULL,
    delivery_time TEXT NOT NULL,
    status listing_status NOT NULL DEFAULT 'PENDING',
    created_at TIMESTAMPTZ NOT NULL DEFAULT now(),
    expires_at TIMESTAMPTZ NOT NULL
);

-- Ğ˜Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ Ğ»Ğ¾Ñ‚Ğ¾Ğ²
CREATE TABLE listing_images (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    listing_id UUID NOT NULL REFERENCES listings(id) ON DELETE CASCADE,
    url TEXT NOT NULL,
    sort_order INTEGER NOT NULL DEFAULT 0
);

-- Ğ˜Ğ½Ğ´ĞµĞºÑÑ‹ Ğ´Ğ»Ñ ÑÑ„Ñ„ĞµĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ¸ÑĞºĞ°
CREATE INDEX idx_listings_game ON listings(game_id);
CREATE INDEX idx_listings_category ON listings(category_id);
CREATE INDEX idx_listings_seller ON listings(seller_id);
CREATE INDEX idx_listings_status ON listings(status);
CREATE INDEX idx_listings_price ON listings(price);
CREATE INDEX idx_item_templates_game ON item_templates(game_id);
CREATE INDEX idx_item_templates_category ON item_templates(category_id);
CREATE INDEX idx_item_categories_game ON item_categories(game_id);
CREATE INDEX idx_item_categories_parent ON item_categories(parent_id);

-- ĞŸĞ¾Ğ»Ğ½Ğ¾Ñ‚ĞµĞºÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ Ğ¿Ğ¾Ğ¸ÑĞº
CREATE INDEX idx_listings_title_trgm ON listings USING GIN (title gin_trgm_ops);
CREATE INDEX idx_listings_description_trgm ON listings USING GIN (description gin_trgm_ops);

-- Ğ˜Ğ½Ğ´ĞµĞºÑÑ‹ Ğ´Ğ»Ñ JSON Ğ°Ñ‚Ñ€Ğ¸Ğ±ÑƒÑ‚Ğ¾Ğ² (Ğ´Ğ»Ñ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸)
CREATE INDEX idx_listings_attrs ON listings USING GIN(attributes);
CREATE INDEX idx_item_templates_attrs ON item_templates USING GIN(attributes);
6.5 ĞœĞ¾Ğ´ĞµĞ»ÑŒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ´Ğ»Ñ Ñ‡Ğ°Ñ‚Ğ°
sql-- Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ñ‡Ğ°Ñ‚Ğ¾Ğ² (Ğ¿Ğ¾ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸ÑĞ¼)
CREATE TABLE chats (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    transaction_id UUID NOT NULL REFERENCES transactions(id),
    buyer_id UUID NOT NULL REFERENCES users(id),
    seller_id UUID NOT NULL REFERENCES users(id),
    created_at TIMESTAMPTZ NOT NULL DEFAULT now(),
    is_active BOOLEAN NOT NULL DEFAULT true,
    expires_at TIMESTAMPTZ, -- 30 Ğ´Ğ½ĞµĞ¹ Ğ¿Ğ¾ÑĞ»Ğµ Ğ·Ğ°ĞºÑ€Ñ‹Ñ‚Ğ¸Ñ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸
    CONSTRAINT unique_transaction_chat UNIQUE (transaction_id)
);

-- Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹
CREATE TABLE chat_messages (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    chat_id UUID NOT NULL REFERENCES chats(id),
    sender_id UUID NOT NULL REFERENCES users(id),
    recipient_id UUID NOT NULL REFERENCES users(id),
    content TEXT,
    message_type message_type NOT NULL DEFAULT 'text',
    image_url TEXT,
    created_at TIMESTAMPTZ NOT NULL DEFAULT now(),
    read_at TIMESTAMPTZ,
    is_system BOOLEAN NOT NULL DEFAULT false,
    is_deleted BOOLEAN NOT NULL DEFAULT false
);

-- Ğ¢Ğ¸Ğ¿ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ
CREATE TYPE message_type AS ENUM ('text', 'image', 'system');

-- Ğ˜Ğ½Ğ´ĞµĞºÑÑ‹
CREATE INDEX idx_chat_transaction ON chats(transaction_id);
CREATE INDEX idx_chat_buyer ON chats(buyer_id);
CREATE INDEX idx_chat_seller ON chats(seller_id);
CREATE INDEX idx_chat_message_chat ON chat_messages(chat_id);
CREATE INDEX idx_chat_message_sender ON chat_messages(sender_id);
CREATE INDEX idx_chat_message_recipient ON chat_messages(recipient_id);
CREATE INDEX idx_chat_message_created ON chat_messages(created_at);
CREATE INDEX idx_chat_message_unread ON chat_messages(recipient_id, read_at) 
    WHERE read_at IS NULL;
7. ĞÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ñ‹Ğµ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ (RabbitMQ â†’ topic marketplace.events)
EventProducerĞ¡Ñ…ĞµĞ¼Ğ° payloaditem_listedmarketplaceâ€‘svc{ listing_id, seller_id, price }transaction_createdmarketplaceâ€‘svc{ txn_id, buyer_id, amount }payment_capturedpaymentâ€‘svc{ txn_id, amount, fee }transaction_completedmarketplaceâ€‘svc{ txn_id, rating_url }dispute_openedfraudâ€‘svc{ dispute_id, reason }message_sentchat-svc{ message_id, chat_id, sender_id, recipient_id }
ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ ÑÑ…ĞµĞ¼Ñ‹ Avro Ğ´Ğ»Ñ ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ transaction_created
json{
  "type": "record",
  "name": "TransactionCreated",
  "namespace": "com.gamemarket.events.v1",
  "fields": [
    { "name": "txn_id", "type": "string" },
    { "name": "buyer_id", "type": "string" },
    { "name": "seller_id", "type": "string" },
    { "name": "listing_id", "type": "string" },
    { "name": "amount", "type": "string" },
    { "name": "currency", "type": "string" },
    { "name": "created_at", "type": "string" },
    { "name": "item_name", "type": ["null", "string"], "default": null }
  ]
}
8. Frontend
8.1 ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹

Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° (Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğµ Ğ»Ğ¾Ñ‚Ñ‹, Ğ¿Ğ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ğµ Ğ¸Ğ³Ñ€Ñ‹)
ĞšĞ°Ñ‚Ğ°Ğ»Ğ¾Ğ³ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ¾Ğ² Ñ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ğ¼Ğ¸
Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ»Ğ¾Ñ‚Ğ° Ñ Ğ´ĞµÑ‚Ğ°Ğ»ÑĞ¼Ğ¸ Ğ¸ ĞºĞ½Ğ¾Ğ¿ĞºĞ¾Ğ¹ Ğ¿Ğ¾ĞºÑƒĞ¿ĞºĞ¸
Ğ›Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ ĞºĞ°Ğ±Ğ¸Ğ½ĞµÑ‚ (Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ, ĞºĞ¾ÑˆĞµĞ»ĞµĞº, Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ)
Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ²Ñ†Ğ° (Ñ„Ğ¾Ñ€Ğ¼Ğ° ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ Ğ»Ğ¾Ñ‚Ğ°)
Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ¿Ğ¾ĞºÑƒĞ¿ĞºĞ¸ (Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ğµ, Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ğ°, Ñ‡Ğ°Ñ‚ Ñ Ğ¿Ñ€Ğ¾Ğ´Ğ°Ğ²Ñ†Ğ¾Ğ¼)
Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° ÑĞ¿Ğ¾Ñ€Ğ° (Ğ´Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ĞµĞ»ÑŒÑÑ‚Ğ²Ğ°, Ğ¿ĞµÑ€ĞµĞ¿Ğ¸ÑĞºĞ°)
ĞĞ´Ğ¼Ğ¸Ğ½-Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ Ñ Ğ´Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´Ğ°Ğ¼Ğ¸ Ğ¸ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸ĞµĞ¼

8.2 ĞœĞ°ĞºĞµÑ‚Ñ‹ UI
â”Œâ”€ Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Ğ›Ğ¾Ğ³Ğ¾Ñ‚Ğ¸Ğ¿  â”‚ â”‚ ĞŸĞ¾Ğ¸ÑĞº                        [ğŸ”] â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Ğ˜Ğ³Ñ€Ğ° 1  â”‚ â”‚ Ğ˜Ğ³Ñ€Ğ° 2  â”‚ â”‚ Ğ˜Ğ³Ñ€Ğ° 3  â”‚ â”‚ Ğ˜Ğ³Ñ€Ğ° 4  â”‚ ...   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                         â”‚
â”‚  ĞŸĞ¾Ğ¿ÑƒĞ»ÑÑ€Ğ½Ñ‹Ğµ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ñ‹                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ [Ğ˜Ğ·Ğ¾Ğ±Ñ€.]  â”‚ â”‚ [Ğ˜Ğ·Ğ¾Ğ±Ñ€.]  â”‚ â”‚ [Ğ˜Ğ·Ğ¾Ğ±Ñ€.]  â”‚             â”‚
â”‚  â”‚ ĞŸÑ€ĞµĞ´Ğ¼ĞµÑ‚ 1 â”‚ â”‚ ĞŸÑ€ĞµĞ´Ğ¼ĞµÑ‚ 2 â”‚ â”‚ ĞŸÑ€ĞµĞ´Ğ¼ĞµÑ‚ 3 â”‚ ...         â”‚
â”‚  â”‚ $19.99    â”‚ â”‚ $24.50    â”‚ â”‚ $12.75    â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                         â”‚
â”‚  ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğµ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ñ‹Ğµ                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ [Ğ˜Ğ·Ğ¾Ğ±Ñ€.]  â”‚ â”‚ [Ğ˜Ğ·Ğ¾Ğ±Ñ€.]  â”‚ â”‚ [Ğ˜Ğ·Ğ¾Ğ±Ñ€.]  â”‚             â”‚
â”‚  â”‚ ĞŸÑ€ĞµĞ´Ğ¼ĞµÑ‚ 4 â”‚ â”‚ ĞŸÑ€ĞµĞ´Ğ¼ĞµÑ‚ 5 â”‚ â”‚ ĞŸÑ€ĞµĞ´Ğ¼ĞµÑ‚ 6 â”‚ ...         â”‚
â”‚  â”‚ $35.00    â”‚ â”‚ $8.99     â”‚ â”‚ $42.25    â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
9. Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
9.1 ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ

P95 latency < 200 ms Ğ´Ğ»Ñ API Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° 1000 RPS Ğ½Ğ° Ğ¿Ğ¸ĞºĞ¾Ğ²Ñ‹Ñ… Ğ½Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°Ñ…
Ğ’Ñ€ĞµĞ¼Ñ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ < 1.5 ÑĞµĞº (FCP)
SLA 99.9% (43.8 Ğ¼Ğ¸Ğ½ÑƒÑ‚ Ğ´Ğ°ÑƒĞ½Ñ‚Ğ°Ğ¹Ğ¼Ğ° Ğ² Ğ¼ĞµÑÑÑ†)

9.2 ĞœĞ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€ÑƒĞµĞ¼Ğ¾ÑÑ‚ÑŒ

Ğ“Ğ¾Ñ€Ğ¸Ğ·Ğ¾Ğ½Ñ‚Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ‡ĞµÑ€ĞµĞ· Kubernetes HPA
Ğ¨Ğ°Ñ€Ğ´Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¿Ğ¾ Ğ¼ĞµÑ€Ğµ Ñ€Ğ¾ÑÑ‚Ğ°
ĞšĞµÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ‡Ğ°ÑÑ‚Ğ¾ Ğ·Ğ°Ğ¿Ñ€Ğ°ÑˆĞ¸Ğ²Ğ°ĞµĞ¼Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ² Redis
ĞÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ°Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ñ‚ÑĞ¶ĞµĞ»Ñ‹Ñ… Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¹ Ñ‡ĞµÑ€ĞµĞ· Ğ¾Ñ‡ĞµÑ€ĞµĞ´Ğ¸

9.3 Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ

OWASP Top-10 Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ (Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¸ Ñ€ÑƒÑ‡Ğ½Ñ‹Ğµ)
Ğ¥Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ¿Ğ°Ñ€Ğ¾Ğ»ĞµĞ¹ Ñ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼ bcrypt/Argon2
Rate limiting Ğ´Ğ»Ñ API Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
HTTPS Ğ´Ğ»Ñ Ğ²ÑĞµÑ… ÑĞ¾ĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ğ¹
Rotations ÑĞµĞºÑ€ĞµÑ‚Ğ¾Ğ² ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 90 Ğ´Ğ½ĞµĞ¹
WAF Ğ´Ğ»Ñ Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ñ‹ Ğ¾Ñ‚ DDoS Ğ¸ Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… Ğ°Ñ‚Ğ°Ğº

10. Ğ˜Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°
10.1 Ğ Ğ°Ğ·Ğ²ĞµÑ€Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ

Kubernetes (EKS) Ñ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°ÑÑˆÑ‚Ğ°Ğ±Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸ĞµĞ¼
Multi-AZ Ğ´Ğ»Ñ Ğ¾Ğ±ĞµÑĞ¿ĞµÑ‡ĞµĞ½Ğ¸Ñ Ğ²Ñ‹ÑĞ¾ĞºĞ¾Ğ¹ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚Ğ¸
CI/CD Ñ‡ĞµÑ€ĞµĞ· GitHub Actions + ArgoCD
Blue/Green deployments Ğ´Ğ»Ñ zero-downtime Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğ¹

10.2 ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³

Prometheus + Grafana Ğ´Ğ»Ñ ÑĞ¸ÑÑ‚ĞµĞ¼Ğ½Ñ‹Ñ… Ğ¼ĞµÑ‚Ñ€Ğ¸Ğº
OpenTelemetry + Jaeger Ğ´Ğ»Ñ Ñ‚Ñ€Ğ°ÑÑĞ¸Ñ€Ğ¾Ğ²ĞºĞ¸ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
OpenSearch + Fluent Bit Ğ´Ğ»Ñ Ğ»Ğ¾Ğ³Ğ¾Ğ²
PagerDuty Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ´Ğ»Ñ Ğ°Ğ»ĞµÑ€Ñ‚Ğ¸Ğ½Ğ³Ğ°
Custom Ğ´Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´Ñ‹ Ğ´Ğ»Ñ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ¼ĞµÑ‚Ñ€Ğ¸Ğº

11. ĞŸĞ»Ğ°Ğ½ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸
11.1 Ğ¤Ğ°Ğ·Ñ‹ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
Ğ¤Ğ°Ğ·Ğ°Ğ”Ğ»Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒĞ¦ĞµĞ»ÑŒĞ’Ñ‹Ñ…Ğ¾Ğ´Ğ½Ğ¾Ğ¹ Ğ°Ñ€Ñ‚ĞµÑ„Ğ°ĞºÑ‚Ğ”Ğ¸Ğ·Ğ°Ğ¹Ğ½2 Ğ½ĞµĞ´ĞµĞ»Ğ¸ĞŸÑ€Ğ¾Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹ Ğ¸ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ¾Ğ²Ğ£Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ½Ñ‹Ğµ Ğ¼Ğ°ĞºĞµÑ‚Ñ‹ Ğ¸ ÑÑ…ĞµĞ¼Ñ‹Alpha6 Ğ½ĞµĞ´ĞµĞ»ÑŒĞ‘Ğ°Ğ·Ğ¾Ğ²Ğ°Ñ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒMVP Ñ auth+listings+transactionsBeta4 Ğ½ĞµĞ´ĞµĞ»Ğ¸ĞŸĞ¾Ğ»Ğ½Ñ‹Ğ¹ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»# 