# Marketplace Service API

API-сервис для управления торговой площадкой игровых предметов

## Основные эндпоинты

### Объявления (Listings)

**Базовый путь:** `/listings`

| Метод | Путь | Описание | Аутентификация |
|-------|------|----------|----------------|
| GET | `/listings` | Получение списка объявлений с фильтрацией и пагинацией | Нет |
| GET | `/listings/{listing_id}` | Получение информации о конкретном объявлении | Нет |
| POST | `/listings` | Создание нового объявления о продаже | Да |
| PUT | `/listings/{listing_id}` | Обновление информации об объявлении | Да (только владелец) |
| DELETE | `/listings/{listing_id}` | Удаление объявления | Да (только владелец) |
| GET | `/listings/my-listings` | Получение списка объявлений текущего пользователя | Да |

### Категории (Categories)

**Базовый путь:** `/categories`

| Метод | Путь | Описание | Аутентификация |
|-------|------|----------|----------------|
| GET | `/categories` | Получение списка категорий с фильтрацией и пагинацией | Нет |
| GET | `/categories/{category_id}` | Получение информации о конкретной категории | Нет |
| POST | `/categories` | Создание новой категории предметов | Да (админ) |
| PUT | `/categories/{category_id}` | Обновление информации о категории | Да (админ) |
| DELETE | `/categories/{category_id}` | Удаление категории | Да (админ) |

#### Атрибуты категорий

| Метод | Путь | Описание | Аутентификация |
|-------|------|----------|----------------|
| GET | `/categories/{category_id}/attributes` | Получение атрибутов категории | Нет |
| POST | `/categories/{category_id}/attributes` | Добавление нового атрибута к категории | Да (админ) |
| PUT | `/categories/{category_id}/attributes/{attribute_id}` | Обновление атрибута категории | Да (админ) |
| DELETE | `/categories/{category_id}/attributes/{attribute_id}` | Удаление атрибута категории | Да (админ) |

### Игры (Games)

**Базовый путь:** `/games`

| Метод | Путь | Описание | Аутентификация |
|-------|------|----------|----------------|
| GET | `/games` | Получение списка игр с фильтрацией и пагинацией | Нет |
| GET | `/games/{game_id}` | Получение информации о конкретной игре | Нет |
| POST | `/games` | Создание новой игры | Да (админ) |
| PUT | `/games/{game_id}` | Обновление информации об игре | Да (админ) |
| DELETE | `/games/{game_id}` | Удаление игры | Да (админ) |

## Форматы ответов

Все API-эндпоинты возвращают ответы в едином формате:

### Успешный ответ

```json
{
  "success": true,
  "data": { ... },
  "meta": { ... }
}
```

### Ответ с ошибкой

```json
{
  "success": false,
  "error": "Сообщение об ошибке",
  "code": 404,
  "details": null
}
```

## Пагинация

Для эндпоинтов, возвращающих списки объектов, поддерживается пагинация с параметрами:

- `page`: номер страницы (по умолчанию 1)
- `limit`: количество элементов на странице (по умолчанию 20, максимум 100)

## Фильтрация и сортировка

Большинство списочных эндпоинтов поддерживают параметры фильтрации и сортировки:

- Специфические параметры фильтрации для каждого эндпоинта
- `sort_by`: поле для сортировки
- `sort_order`: порядок сортировки (`asc` или `desc`) 