## 16. ะะฐะบะปััะตะฝะธะต

ะะฐะฝะฝะพะต ัะตัะฝะธัะตัะบะพะต ะทะฐะดะฐะฝะธะต ะพะฟะธััะฒะฐะตั ััะตะฑะพะฒะฐะฝะธั ะบ ัะฐะทัะฐะฑะพัะบะต ะฟะปะฐััะพัะผั P2P-ัะพัะณะพะฒะปะธ ะฒะฝัััะธะธะณัะพะฒัะผะธ ัะตะฝะฝะพัััะผะธ "GameTrade". ะัะพะตะบั ัะตะฐะปะธะทัะตั ะฑะตะทะพะฟะฐัะฝัั ัะธััะตะผั ะพะฑะผะตะฝะฐ ะฒะธัััะฐะปัะฝัะผะธ ะฟัะตะดะผะตัะฐะผะธ ะผะตะถะดั ะธะณัะพะบะฐะผะธ ั ะทะฐัะธัะพะน ะพั ะผะพัะตะฝะฝะธัะตััะฒะฐ ัะตัะตะท Escrow, ัะธััะตะผั ัะฟะพัะพะฒ ะธ ะผะพะดะตัะฐัะธั.

ะัะพะฑะพะต ะฒะฝะธะผะฐะฝะธะต ัะดะตะปะตะฝะพ ะฒััะพะบะพะน ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ, ะผะฐัััะฐะฑะธััะตะผะพััะธ ะธ ะฝะฐะดะตะถะฝะพััะธ ัะธััะตะผั, ะฒะบะปััะฐั ะบะพะผะฟะพะฝะตะฝัั ะฐะฝะฐะปะธัะธะบะธ ะดะปั ะผะพะฝะธัะพัะธะฝะณะฐ ะฑะธะทะฝะตั-ะฟะพะบะฐะทะฐัะตะปะตะน.

ะะปััะตะฒัะผะธ ะพัะพะฑะตะฝะฝะพัััะผะธ ะฟะปะฐััะพัะผั ัะฒะปััััั:
1. ะะธะฑะบะฐั ัะธััะตะผะฐ ะบะฐัะตะณะพัะธะทะฐัะธะธ, ะฐะดะฐะฟัะธััะตะผะฐั ะฟะพะด ะปัะฑัั ะธะณัั
2. ะะธะฝะฐะผะธัะตัะบะธะต ะฐััะธะฑััั ะฟัะตะดะผะตัะพะฒ ะธ ััะปัะณ
3. ะะตะทะพะฟะฐัะฝะฐั ัะธััะตะผะฐ ัะดะตะปะพะบ ั Escrow-ะผะตัะฐะฝะธะทะผะพะผ
4. ะัะปััะธะฒะฐะปััะฝะฐั ะฟะพะดะดะตัะถะบะฐ
5. ะะธะบัะพัะตัะฒะธัะฝะฐั ะฐััะธัะตะบัััะฐ ะดะปั ะณะพัะธะทะพะฝัะฐะปัะฝะพะณะพ ะผะฐัััะฐะฑะธัะพะฒะฐะฝะธั
6. ะกะพะฒัะตะผะตะฝะฝัะน ะธะฝัะตััะตะนั ั ะฒััะพะบะธะผ UX

ะะพะบัะผะตะฝั ะฒะบะปััะฐะตั ะฟัะธะผะตัั ะบะพะดะฐ ะธ ะธะฝัะตะณัะฐัะธะน, ะบะพัะพััะต ะฟะพะผะพะณัั ัะฐะทัะฐะฑะพััะธะบะฐะผ ะฑััััะตะต ะฟะพะฝััั ะฐััะธัะตะบัััั ะธ ะฟัะธัััะฟะธัั ะบ ัะตะฐะปะธะทะฐัะธะธ.

ะะฐะทัะฐะฑะพัะบะฐ ะฑัะดะตั ะฒะตััะธัั ัะพะณะปะฐัะฝะพ ะฟะปะฐะฝั ั ัะตัะบะธะผะธ ััะฐะฟะฐะผะธ ะธ ะฟัะธะพัะธัะตัะฐะผะธ, ั ะพัะพะฑัะผ ัะพะบััะพะผ ะฝะฐ ะฑะตะทะพะฟะฐัะฝะพััั ะธ user experience.

ะัะพะตะบั ะฑัะดะตั ะธัะฟะพะปัะทะพะฒะฐัั ัะพะฒัะตะผะตะฝะฝัะน ัะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ ั ัะตัะบะพะน ัะฐะนะปะพะฒะพะน ััััะบัััะพะน, ััะพ ะพะฑะตัะฟะตัะธั ัััะตะบัะธะฒะฝัั ัะฐะทัะฐะฑะพัะบั, ะฟะพะดะดะตัะถะบั ะธ ะผะฐัััะฐะฑะธัะพะฒะฐะฝะธะต ัะธััะตะผั.# ะขะตัะฝะธัะตัะบะพะต ะทะฐะดะฐะฝะธะต - ะะธัะถะฐ ะฒะฝัััะธะธะณัะพะฒัั ัะตะฝะฝะพััะตะน

**ะะตััะธั**: 1.2  
**ะะฐัะฐ**: 12 ะผะฐั 2025 ะณ.  
**ะกัะฐััั**: ะะพัะพะฒ ะบ ัะตะฐะปะธะทะฐัะธะธ

## 1. ะะฒะตะดะตะฝะธะต

### 1.1 ะะฑะทะพั ะฟัะพะดัะบัะฐ

ะะปะฐััะพัะผะฐ "GameTrade" ะฟัะตะดััะฐะฒะปัะตั ัะพะฑะพะน P2P-ะผะฐัะบะตัะฟะปะตะนั ะดะปั ะฑะตะทะพะฟะฐัะฝะพะณะพ ะพะฑะผะตะฝะฐ ะฒะฝัััะธะธะณัะพะฒัะผะธ ัะตะฝะฝะพัััะผะธ (ะฟัะตะดะผะตัะฐะผะธ, ะฐะบะบะฐัะฝัะฐะผะธ) ะผะตะถะดั ะธะณัะพะบะฐะผะธ. ะะปััะตะฒะพะน ะพัะพะฑะตะฝะฝะพัััั ะฟะปะฐััะพัะผั ัะฒะปัะตััั ัะธััะตะผะฐ Escrow, ะบะพัะพัะฐั ะณะฐัะฐะฝัะธััะตั ะฑะตะทะพะฟะฐัะฝะพััั ัะดะตะปะพะบ ะธ ะฟัะตะดะพัะฒัะฐัะฐะตั ะผะพัะตะฝะฝะธัะตััะฒะพ.

### 1.2 ะะปะพััะฐัะธะน

| ะขะตัะผะธะฝ | ะะฟะธัะฐะฝะธะต |
|--------|----------|
| Escrow | ะะตัะฐะฝะธะทะผ ะทะฐะผะพัะพะทะบะธ ััะตะดััะฒ ะดะพ ะฟะพะดัะฒะตัะถะดะตะฝะธั ะฟะตัะตะดะฐัะธ ะฟัะตะดะผะตัะฐ |
| Listing | ะะฑััะฒะปะตะฝะธะต ะพ ะฟัะพะดะฐะถะต ะบะพะฝะบัะตัะฝะพะณะพ ะฟัะตะดะผะตัะฐ/ะฐะบะบะฐัะฝัะฐ |
| Marketplaceโservice | ะะธะทะฝะตัโะปะพะณะธะบะฐ ะฟัะฑะปะธะบะฐัะธะธ ะปะพัะพะฒ ะธ ัะดะตะปะพะบ |
| ItemTemplate | ะกัะฐัะธัะตัะบะธะน ัะฟัะฐะฒะพัะฝะธะบ ะฟัะตะดะผะตัะพะฒ ะบะพะฝะบัะตัะฝะพะน ะธะณัั |
| Dispute | ะกะฟะพั ะผะตะถะดั ะฟัะพะดะฐะฒัะพะผ ะธ ะฟะพะบัะฟะฐัะตะปะตะผ |

### 1.3 ะฆะตะปะธ ะฟัะพะตะบัะฐ

1. ะัะตะดะพััะฐะฒะธัั ะฑะตะทะพะฟะฐัะฝัั P2P-ะฟะปะพัะฐะดะบั ะดะปั ัะพัะณะพะฒะปะธ ะฒะฝัััะธะธะณัะพะฒัะผะธ ัะตะฝะฝะพัััะผะธ
2. ะะธะฝะธะผะธะทะธัะพะฒะฐัั ะผะพัะตะฝะฝะธัะตััะฒะพ ัะตัะตะท Escrow, ะฐะฝัะธััะพะด ะธ ะผะพะดะตัะฐัะธั
3. ะะฑะตัะฟะตัะธัั ะฒััะพะบัั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััั (P95 latency < 200 ะผั ะฟัะธ 1000 RPS)
4. ะะฐัะฐะฝัะธัะพะฒะฐัั ะดะพัััะฟะฝะพััั (SLA 99.9%)

## 2. ะกะธััะตะผะฝะฐั ะฐััะธัะตะบัััะฐ

### 2.1 ะััะพะบะพััะพะฒะฝะตะฒะฐั ะฐััะธัะตะบัััะฐ

```
โ Browser (ReactโSPA) โ
โ   Next.js 14 SSR   โ
โโโโโโโโโฒโโโโโโโโโโโโโ
        โHTTPS JSON/REST + WebSocket
โโโโโโโโโดโโโโโโโโโโโโ  AMQP   โโโโโโโโโโโโโโโโโโ
โ  APIโGateway (NGINX) โโโโโโโถโ notificationโsvc โ
โโโโโโโโโโโโโโโโโโโโโค         โโโโโโโโโโโโโโโโโโ
โ  authโsvc        โ  gRPC   โโโโโโโโโโโโโโโโโโ
โ  marketplaceโsvc โโโโโโโโโถโ paymentโsvc     โ
โ  fraudโsvc       โ         โโโโโโโโโโโโโโโโโโ
โ  adminโsvc       โ
โโโโโโโโโโโโโโโโโโโโโ
        โ
     PostgreSQL + Redis + Elasticsearch
```

### 2.2 ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ

* **Backend:** Python 3.12, FastAPI, SQLAlchemy 2.0, Pydantic v2
* **Frontend:** Next.js 14, React 18, TypeScript, Tailwind CSS
* **ะะฐะฝะฝัะต:** PostgreSQL 15, Redis 7, Elasticsearch
* **ะกะพะพะฑัะตะฝะธั:** RabbitMQ
* **ะะตะฟะปะพะน:** Kubernetes, Docker, GitHub Actions, Terraform
* **ะะพะฝะธัะพัะธะฝะณ:** Prometheus + Grafana, OpenSearch + Fluent Bit

## 3. ะะพะปัะทะพะฒะฐัะตะปััะบะธะต ะธััะพัะธะธ

### 3.1 ะัะฝะพะฒะฝัะต ััะตะฝะฐัะธะธ

| ID | ะะพะปัะทะพะฒะฐัะตะปั | ะกัะตะฝะฐัะธะน | ะะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั | ะัะธัะตัะธะน ะฟัะธะตะผะบะธ |
|----|--------------|----------|---------------------|------------------|
| US-01 | ะะพััั | ะะฐะนัะธ ะฟัะตะดะผะตั ะฟะพ ะฝะฐะทะฒะฐะฝะธั | ะััััะพ ะฝะฐะนัะธ ะธ ะฟัะพัะผะพััะตัั ะดะพัััะฟะฝัะต ะฟัะตะดะผะตัั | search-01: P95 < 300ms, ัะตะปะตะฒะฐะฝัะฝะพััั > 0.8 |
| US-02 | ะะพััั | ะะฐัะตะณะธัััะธัะพะฒะฐัััั ะฝะฐ ะฟะปะฐััะพัะผะต | ะะพะปััะธัั ะดะพัััะฟ ะบ ััะฝะบัะธัะผ ะฟะพะบัะฟะบะธ/ะฟัะพะดะฐะถะธ | signup-01: ะฐะบะบะฐัะฝั ัะพะทะดะฐะตััั, ะพัะฟัะฐะฒะปัะตััั email |
| US-03 | ะะพะปัะทะพะฒะฐัะตะปั | ะะพะฟะพะปะฝะธัั ะฑะฐะปะฐะฝั ะบะพัะตะปัะบะฐ | ะะพะปััะธัั ััะตะดััะฒะฐ ะดะปั ะฟะพะบัะฟะพะบ | wallet-01: ััะตะดััะฒะฐ ะดะพัััะฟะฝั ัะตัะตะท Stripe |
| US-04 | ะัะพะดะฐะฒะตั | ะะฟัะฑะปะธะบะพะฒะฐัั ะปะพั | ะัััะฐะฒะธัั ะฟัะตะดะผะตั ะฝะฐ ะฟัะพะดะฐะถั | listing-01: ััะฐััั=ACTIVE, ะบะพะผะธััะธั ัะฐัััะธัะฐะฝะฐ |
| US-05 | ะัะพะดะฐะฒะตั | ะะทะผะตะฝะธัั ัะตะฝั ะปะพัะฐ | ะะดะฐะฟัะธัะพะฒะฐัั ัะตะฝั ะบ ััะฝะบั | update-01: ัะตะฝะฐ ะพะฑะฝะพะฒะปะตะฝะฐ, ะธััะพัะธั ัะพััะฐะฝะตะฝะฐ |
| US-06 | ะัะพะดะฐะฒะตั | ะกะฝััั ะปะพั ั ะฟัะพะดะฐะถะธ | ะฃะฑัะฐัั ะฟัะตะดะปะพะถะตะฝะธะต ั ะผะฐัะบะตัะฟะปะตะนัะฐ | cancel-01: ััะฐััั=CANCELLED |
| US-07 | ะะพะบัะฟะฐัะตะปั | ะะพะฑะฐะฒะธัั ะปะพั ะฒ ะธะทะฑัะฐะฝะฝะพะต | ะััะปะตะถะธะฒะฐัั ะธะฝัะตัะตััััะธะต ะฟัะตะดะผะตัั | wishlist-01: ะปะพั ะฒ ัะฟะธัะบะต ะธะทะฑัะฐะฝะฝะพะณะพ |
| US-08 | ะะพะบัะฟะฐัะตะปั | ะะฟะปะฐัะธัั ะปะพั | ะัะฟะธัั ะฟัะตะดะผะตั ั ะณะฐัะฐะฝัะธะตะน | txn-01: ััะตะดััะฒะฐ ะฒ Escrow, ััะฐััั=HELD |
| US-09 | ะะพะบัะฟะฐัะตะปั | ะะพะดัะฒะตัะดะธัั ะฟะพะปััะตะฝะธะต | ะะฐะฒะตััะธัั ัะดะตะปะบั ััะฟะตัะฝะพ | complete-01: ััะฐััั=COMPLETED, ะฟัะพะดะฐะฒะตั ะฟะพะปััะฐะตั ะดะตะฝัะณะธ |
| US-10 | ะะพะบัะฟะฐัะตะปั | ะัะบัััั ัะฟะพั | ะะฐะทัะตัะธัั ะบะพะฝัะปะธะบั ะฟัะธ ะฟัะพะฑะปะตะผะต | dispute-01: ััะฐััั=DISPUTED, ัะฒะตะดะพะผะปะตะฝะธะต ะผะพะดะตัะฐัะพัั |
| US-11 | ะะพะปัะทะพะฒะฐัะตะปั | ะััะฐะฒะธัั ะพัะทัะฒ | ะัะตะฝะธัั ะบะพะฝััะฐะณะตะฝัะฐ | rating-01: ัะตะนัะธะฝะณ ะพะฑะฝะพะฒะปะตะฝ, ะพัะทัะฒ ะพัะพะฑัะฐะถะฐะตััั |
| US-12 | ะะพะดะตัะฐัะพั | ะะฐะฑะปะพะบะธัะพะฒะฐัั ะฟะพะดะพะทัะธัะตะปัะฝัะน ะปะพั | ะัะตะดะพัะฒัะฐัะธัั ะผะพัะตะฝะฝะธัะตััะฒะพ | mod-01: ััะฐััั=BANNED, ัะฒะตะดะพะผะปะตะฝะธะต ะฟัะพะดะฐะฒัั |
| US-13 | ะะพะดะตัะฐัะพั | ะะฐะทัะตัะธัั ัะฟะพั | ะะฟัะตะดะตะปะธัั ะธััะพะด ะบะพะฝัะปะธะบัะฐ | dispute-02: ะฒัะฑัะฐะฝะพ ัะตัะตะฝะธะต, ััะตะดััะฒะฐ ัะฐัะฟัะตะดะตะปะตะฝั |
| US-14 | ะะดะผะธะฝะธัััะฐัะพั | ะัะพัะผะพัั ะฐะฝะฐะปะธัะธะบะธ | ะะพะปััะธัั ะดะฐะฝะฝัะต ะพ ัะฐะฑะพัะต ะฟะปะฐััะพัะผั | admin-01: ะดะพัััะฟะฝั ะบะปััะตะฒัะต ะผะตััะธะบะธ ะธ ะพััะตัั |

### 3.2 ะกัะตะฝะฐัะธะธ ะพัะธะฑะพะบ

* `LISTING_NOT_FOUND` โ 404 Not Found
* `INSUFFICIENT_FUNDS` โ 409 Conflict
* `ESCROW_TIMEOUT` โ ะฐะฒัะพะผะฐัะธัะตัะบะพะต ะพัะบัััะธะต ัะฟะพัะฐ (Dispute)
* `INVALID_ITEM_DATA` โ 422 Unprocessable Entity
* `AUTHORIZATION_FAILED` โ 401 Unauthorized
* `RATE_LIMIT_EXCEEDED` โ 429 Too Many Requests

## 4. ะคัะฝะบัะธะพะฝะฐะปัะฝัะต ััะตะฑะพะฒะฐะฝะธั

### 4.1 ะััะตะฝัะธัะธะบะฐัะธั ะธ ะฐะฒัะพัะธะทะฐัะธั

* JWT-ะฐััะตะฝัะธัะธะบะฐัะธั ั access token (15 ะผะธะฝ) ะธ refresh token (30 ะดะฝะตะน)
* ะะพะปะธ: ะณะพััั, ะฟะพะปัะทะพะฒะฐัะตะปั, ะฟัะพะดะฐะฒะตั, ะผะพะดะตัะฐัะพั, ะฐะดะผะธะฝะธัััะฐัะพั
* OAuth ะธะฝัะตะณัะฐัะธั ัะพ Steam ะธ Discord

**ะัะธะผะตั JWT-ัะพะบะตะฝะฐ:**
```json
{
  "sub": "af7c441e-2e9c-48f0-8b27-3d39a8f2c9d5",
  "role": "user",
  "email": "user@example.com",
  "iat": 1715507098,
  "exp": 1715508098
}
```

### 4.2 ะะธะฝะฐะผะธัะตัะบะฐั ะบะฐัะตะณะพัะธะทะฐัะธั ัะพะฒะฐัะพะฒ ะธ ััะปัะณ

ะกะธััะตะผะฐ ะดะพะปะถะฝะฐ ะฟะพะดะดะตัะถะธะฒะฐัั ัะฐะทะปะธัะฝัะต ัะธะฟั ะฒะฝัััะธะธะณัะพะฒัั ัะตะฝะฝะพััะตะน, ะบะพัะพััะต ัััะตััะฒะตะฝะฝะพ ัะฐะทะปะธัะฐัััั ะผะตะถะดั ะธะณัะฐะผะธ:

* **ะัะตะดะผะตัั** (ะพััะถะธะต, ะฑัะพะฝั, ัะฐััะพะดะฝะธะบะธ, ะบะพัะผะตัะธัะตัะบะธะต ะฟัะตะดะผะตัั)
* **ะะฐะปััะฐ** (ะทะพะปะพัะพ, ะบัะธััะฐะปะปั, ะฒะฝัััะธะธะณัะพะฒัะต ะผะพะฝะตัั)
* **ะฃัะปัะณะธ** (ะฟัะพะบะฐัะบะฐ ััะพะฒะฝั, ะฟัะพัะพะถะดะตะฝะธะต ัะตะนะดะพะฒ, ะพะฑััะตะฝะธะต)
* **ะะบะบะฐัะฝัั** (ะฟะพะปะฝะพัะตะฝะฝัะต ะฐะบะบะฐัะฝัั ั ะฟัะพะณัะตััะพะผ)

#### 4.2.1 ะะธะฝะฐะผะธัะตัะบะธะต ะฐััะธะฑััั ะดะปั ะฟัะตะดะผะตัะพะฒ

ะะปั ะฟะพะดะดะตัะถะบะธ ัะฐะทะปะธัะฝัั ัะธะฟะพะฒ ะฟัะตะดะผะตัะพะฒ ะธ ะธั ัะฝะธะบะฐะปัะฝัั ะฐััะธะฑััะพะฒ ะฒ ะทะฐะฒะธัะธะผะพััะธ ะพั ะธะณัั, ัะธััะตะผะฐ ะธัะฟะพะปัะทัะตั ะดะธะฝะฐะผะธัะตัะบัั ััะตะผั ะฐััะธะฑััะพะฒ:

```json
// ะัะธะผะตั ััััะบัััั ะผะตัะฐะดะฐะฝะฝัั ะดะปั ะฟัะตะดะผะตัะพะฒ WoW
{
  "item_type": "equipment",
  "sub_type": "weapon",
  "weapon_type": "sword",
  "level": 70,
  "item_level": 415,
  "stats": {
    "strength": 120,
    "stamina": 85,
    "critical_strike": 45,
    "haste": 30
  },
  "required_level": 60,
  "binding": "bind_on_equip",
  "unique": true,
  "visual_effect": "fiery_glow"
}

// ะัะธะผะตั ััััะบัััั ะดะปั ะฒะฝัััะธะธะณัะพะฒะพะน ะฒะฐะปััั
{
  "item_type": "currency",
  "currency_type": "gold",
  "amount": 10000,
  "server": "Silvermoon",
  "faction": "Alliance",
  "delivery_method": "auction_house"
}

// ะัะธะผะตั ััััะบัััั ะดะปั ััะปัะณ
{
  "item_type": "service",
  "service_type": "leveling",
  "from_level": 1,
  "to_level": 60,
  "character_class": "Warrior",
  "estimated_time": "3 days",
  "includes_gear": true
}
```

#### 4.2.2 ะกะธััะตะผะฐ ะบะฐัะตะณะพัะธะน

ะะปั ัััะตะบัะธะฒะฝะพะน ัะฐะฑะพัั ั ะผะฝะพะถะตััะฒะพะผ ะธะณั ะธ ัะธะฟะพะฒ ัะพะฒะฐัะพะฒ, ัะธััะตะผะฐ ะธัะฟะพะปัะทัะตั ะธะตัะฐััะธัะตัะบัั ััััะบัััั ะบะฐัะตะณะพัะธะน:

```
โโ ะะณัะฐ
โ  โโ ะขะธะฟ ัะพะฒะฐัะฐ
โ     โโ ะะพะดัะธะฟ
โ        โโ ะกะฟะตัะธัะธัะตัะบะธะต ัะธะปัััั
```

**ะัะธะผะตั ะธะตัะฐััะธะธ ะดะปั World of Warcraft:**
```
World of Warcraft
โโโ ะะฐะปััะฐ
โ   โโโ ะะพะปะพัะพ
โ   โ   โโโ ะคะธะปัััั: ัะตัะฒะตั, ััะฐะบัะธั, ะผะตัะพะด ะดะพััะฐะฒะบะธ
โ   โโโ ะััะณะธะต ะฒะฐะปััั
โโโ ะัะตะดะผะตัั
โ   โโโ ะััะถะธะต
โ   โ   โโโ ะะดะฝะพัััะฝะพะต
โ   โ   โ   โโโ ะคะธะปัััั: ััะพะฒะตะฝั ะฟัะตะดะผะตัะฐ, ัะฐัะฐะบัะตัะธััะธะบะธ, ััะตะฑัะตะผัะน ััะพะฒะตะฝั
โ   โ   โโโ ะะฒััััะฝะพะต
โ   โ   โโโ ะะฐะปัะฝะธะน ะฑะพะน
โ   โโโ ะัะพะฝั
โ   โ   โโโ ะขะบะฐะฝะตะฒะฐั
โ   โ   โโโ ะะพะถะฐะฝะฐั
โ   โ   โโโ ะะพะปัััะถะฝะฐั
โ   โ   โโโ ะะฐัะฝะฐั
โ   โโโ ะะฐััะพะดะฝะธะบะธ
โโโ ะฃัะปัะณะธ
โ   โโโ ะัะพะบะฐัะบะฐ ะฟะตััะพะฝะฐะถะฐ
โ   โ   โโโ ะคะธะปัััั: ะฝะฐัะฐะปัะฝัะน ััะพะฒะตะฝั, ะบะพะฝะตัะฝัะน ััะพะฒะตะฝั, ะบะปะฐัั, ััะพะบ
โ   โโโ ะะตะนะดั ะธ ะฟะพะดะทะตะผะตะปัั
โ   โโโ ะัะพัะตััะธะธ
โโโ ะะบะบะฐัะฝัั
    โโโ ะคะธะปัััั: ััะพะฒะตะฝั, ะบะปะฐััั, ะดะพััะธะถะตะฝะธั, ัะตะดะบะธะต ะฟัะตะดะผะตัั
```

**ะัะธะผะตั ะธะตัะฐััะธะธ ะดะปั Counter-Strike 2:**
```
Counter-Strike 2
โโโ ะกะบะธะฝั
โ   โโโ ะััะถะธะต
โ   โ   โโโ ะะพะถะธ
โ   โ   โ   โโโ ะคะธะปัััั: ัะตะดะบะพััั, ะธะทะฝะพั, StatTrak
โ   โ   โโโ ะะธััะพะปะตัั
โ   โ   โโโ ะะธะฝัะพะฒะบะธ
โ   โ   โโโ ะะธััะพะปะตัั-ะฟัะปะตะผะตัั
โ   โโโ ะะตััะฐัะบะธ
โโโ ะะฐะบะปะตะนะบะธ
โโโ ะะตะนัั
โโโ ะะบะบะฐัะฝัั
    โโโ ะคะธะปัััั: ัะฐะฝะณ, ััะฐัะธััะธะบะฐ, ะบะพะปะธัะตััะฒะพ ัะบะธะฝะพะฒ
```

#### 4.2.3 ะะพะดะตะปั ะดะฐะฝะฝัั ะดะปั ะบะฐัะตะณะพัะธะทะฐัะธะธ

```sql
-- ะะณัั
CREATE TABLE games (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    code TEXT NOT NULL UNIQUE,
    name TEXT NOT NULL,
    icon_url TEXT,
    is_active BOOLEAN DEFAULT TRUE
);

-- ะะฐัะตะณะพัะธะธ ัะพะฒะฐัะพะฒ
CREATE TABLE item_categories (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    game_id UUID NOT NULL REFERENCES games(id),
    parent_id UUID REFERENCES item_categories(id),
    name TEXT NOT NULL,
    slug TEXT NOT NULL,
    level INTEGER NOT NULL,
    sort_order INTEGER NOT NULL DEFAULT 0,
    CONSTRAINT unique_category_slug_per_game UNIQUE (game_id, slug)
);

-- ะััะธะฑััั ะบะฐัะตะณะพัะธะน
CREATE TABLE category_attributes (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    category_id UUID NOT NULL REFERENCES item_categories(id),
    name TEXT NOT NULL,
    display_name TEXT NOT NULL,
    attribute_type TEXT NOT NULL, -- string, number, boolean, enum
    is_required BOOLEAN DEFAULT FALSE,
    is_filterable BOOLEAN DEFAULT FALSE,
    is_searchable BOOLEAN DEFAULT FALSE,
    default_value JSONB,
    validation_rules JSONB,
    enum_values JSONB,
    sort_order INTEGER NOT NULL DEFAULT 0,
    CONSTRAINT unique_attribute_per_category UNIQUE (category_id, name)
);

-- ะะฐััะธัะตะฝะธะต ItemTemplate
CREATE TABLE item_templates (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    game_id UUID NOT NULL REFERENCES games(id),
    category_id UUID NOT NULL REFERENCES item_categories(id),
    name TEXT NOT NULL,
    description TEXT,
    attributes JSONB NOT NULL DEFAULT '{}'::jsonb,
    created_at TIMESTAMPTZ NOT NULL DEFAULT now(),
    is_active BOOLEAN NOT NULL DEFAULT TRUE
);

-- ะะฝะดะตะบัั ะดะปั ะฟะพะธัะบะฐ
CREATE INDEX idx_item_templates_category ON item_templates(category_id);
CREATE INDEX idx_item_templates_game ON item_templates(game_id);
CREATE INDEX idx_item_templates_attrs ON item_templates USING GIN(attributes);
```

#### 4.2.4 ะคัะฝะบัะธะพะฝะฐะปัะฝัะน ะฟัะธะผะตั: ะกะพะทะดะฐะฝะธะต ะปะธััะธะฝะณะฐ ั ะดะธะฝะฐะผะธัะตัะบะธะผะธ ะฐััะธะฑััะฐะผะธ

**ะะฐะฟัะพั:**
```http
POST /api/v1/listings HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

{
  "game_id": "f8e7d6c5-b4a3-4d21-9e87-1f0e2cd3b4a5",
  "category_id": "a1b2c3d4-e5f6-4a5b-9c8d-7e6f5a4b3c2d",
  "title": "ะญะฟะธัะตัะบะธะน ะผะตั ะะตะดัะฝะพะณะพ ะฒะตััะฐ +10",
  "price": "49.99",
  "currency": "USD",
  "quantity": 1,
  "attributes": {
    "item_level": 415,
    "required_level": 60,
    "weapon_type": "sword",
    "damage": 2450,
    "stats": {
      "strength": 120,
      "stamina": 85,
      "critical_strike": 45,
      "haste": 30
    },
    "enchantment": "frost_damage",
    "socket_count": 2,
    "binding": "bind_on_equip"
  },
  "delivery_method": "in_game_mail",
  "delivery_time": "within_1_hour",
  "expires_at": "2025-05-31T00:00:00Z",
  "description": "ะญะฟะธัะตัะบะธะน ะผะตั ั ะพัะปะธัะฝัะผะธ ัะฐัะฐะบัะตัะธััะธะบะฐะผะธ ะดะปั ัััะฐัั ัะผะตััะธ ะธะปะธ ะฒะพะธะฝะฐ. ะะตัะตะดะฐะผ ัะตัะตะท ะฒะฝัััะธะธะณัะพะฒัั ะฟะพััั."
}
```

**ะัะฒะตั:**
```http
HTTP/1.1 201 Created
Content-Type: application/json

{
  "id": "a27ba44e-0c47-48b5-8643-2e39a8e23fbc",
  "status": "ACTIVE",
  "fee": "5.00",
  "seller_id": "95c31220-b3be-4152-aea6-4d1d9c8c22ac",
  "game": {
    "id": "f8e7d6c5-b4a3-4d21-9e87-1f0e2cd3b4a5",
    "name": "World of Warcraft",
    "icon_url": "/games/wow.png"
  },
  "category": {
    "id": "a1b2c3d4-e5f6-4a5b-9c8d-7e6f5a4b3c2d",
    "name": "ะััะถะธะต > ะะดะฝะพัััะฝะพะต > ะะตัะธ"
  },
  "title": "ะญะฟะธัะตัะบะธะน ะผะตั ะะตะดัะฝะพะณะพ ะฒะตััะฐ +10",
  "attributes": {
    "item_level": 415,
    "required_level": 60,
    "weapon_type": "sword",
    "damage": 2450,
    "stats": {
      "strength": 120,
      "stamina": 85,
      "critical_strike": 45,
      "haste": 30
    },
    "enchantment": "frost_damage",
    "socket_count": 2,
    "binding": "bind_on_equip"
  },
  "price": "49.99",
  "currency": "USD",
  "delivery_method": "in_game_mail",
  "delivery_time": "within_1_hour",
  "created_at": "2025-05-12T14:38:29Z",
  "expires_at": "2025-05-31T00:00:00Z",
  "images": []
}
```

#### 4.2.5 ะคัะฝะบัะธะพะฝะฐะปัะฝัะน ะฟัะธะผะตั: ะะพะธัะบ ั ะดะธะฝะฐะผะธัะตัะบะธะผะธ ัะธะปัััะฐะผะธ

**ะะฐะฟัะพั:**
```http
GET /api/v1/listings?game=world-of-warcraft&category=weapons/one-handed/swords&min_item_level=400&max_item_level=450&stats.strength.min=100&sort=price_asc&limit=20 HTTP/1.1
```

**ะัะฒะตั:**
```http
HTTP/1.1 200 OK
Content-Type: application/json

{
  "items": [
    {
      "id": "a27ba44e-0c47-48b5-8643-2e39a8e23fbc",
      "title": "ะญะฟะธัะตัะบะธะน ะผะตั ะะตะดัะฝะพะณะพ ะฒะตััะฐ +10",
      "price": "49.99",
      "currency": "USD",
      "attributes": {
        "item_level": 415,
        "required_level": 60,
        "stats": {
          "strength": 120,
          "stamina": 85
        }
      },
      "images": ["/listings/a27ba44e/1.jpg"],
      "seller": {
        "id": "95c31220-b3be-4152-aea6-4d1d9c8c22ac",
        "display_name": "DragonSlayer",
        "rating": 4.8
      },
      "created_at": "2025-05-12T14:38:29Z"
    },
    // ... ะดััะณะธะต ะฟัะตะดะผะตัั
  ],
  "filters": {
    "item_level": {
      "min": 410,
      "max": 450,
      "distribution": [
        {"value": 410, "count": 2},
        {"value": 415, "count": 5},
        {"value": 420, "count": 3},
        {"value": 440, "count": 1},
        {"value": 450, "count": 1}
      ]
    },
    "weapon_type": [
      {"value": "sword", "count": 8},
      {"value": "axe", "count": 4}
    ],
    "stats.strength": {
      "min": 100,
      "max": 145,
      "distribution": [
        {"range": "100-110", "count": 3},
        {"range": "111-120", "count": 5},
        {"range": "121-130", "count": 2},
        {"range": "131-145", "count": 2}
      ]
    }
    // ... ะดััะณะธะต ัะธะปัััั
  },
  "pagination": {
    "total": 42,
    "limit": 20,
    "offset": 0,
    "next_offset": 20
  }
}
```

#### 4.2.6 ะัะธะผะตั: ะฃะฟัะฐะฒะปะตะฝะธะต ะดะธะฝะฐะผะธัะตัะบะธะผะธ ะฐััะธะฑััะฐะผะธ ะฒ ะฐะดะผะธะฝ-ะฟะฐะฝะตะปะธ

**ะะฐะฝะฝัะต ะบะฐัะตะณะพัะธะธ:**
```json
{
  "id": "a1b2c3d4-e5f6-4a5b-9c8d-7e6f5a4b3c2d",
  "game_id": "f8e7d6c5-b4a3-4d21-9e87-1f0e2cd3b4a5",
  "parent_id": "e9d8c7b6-a5f4-4e3d-2c1b-0a9b8c7d6e5f",
  "name": "ะะตัะธ",
  "slug": "swords",
  "level": 3,
  "attributes": [
    {
      "id": "b1a2d3c4-e5f6-7a8b-9c0d-1e2f3a4b5c6d",
      "name": "item_level",
      "display_name": "ะฃัะพะฒะตะฝั ะฟัะตะดะผะตัะฐ",
      "attribute_type": "number",
      "is_required": true,
      "is_filterable": true,
      "is_searchable": false,
      "validation_rules": {
        "min": 1,
        "max": 1000
      },
      "sort_order": 1
    },
    {
      "id": "c1b2a3d4-e5f6-7a8b-9c0d-1e2f3a4b5c6d",
      "name": "required_level",
      "display_name": "ะขัะตะฑัะตะผัะน ััะพะฒะตะฝั",
      "attribute_type": "number",
      "is_required": true,
      "is_filterable": true,
      "is_searchable": false,
      "validation_rules": {
        "min": 1,
        "max": 70
      },
      "sort_order": 2
    },
    {
      "id": "d1c2b3a4-e5f6-7a8b-9c0d-1e2f3a4b5c6d",
      "name": "damage",
      "display_name": "ะฃัะพะฝ",
      "attribute_type": "number",
      "is_required": true,
      "is_filterable": true,
      "is_searchable": false,
      "sort_order": 3
    },
    {
      "id": "e1d2c3b4-a5f6-7a8b-9c0d-1e2f3a4b5c6d",
      "name": "stats",
      "display_name": "ะฅะฐัะฐะบัะตัะธััะธะบะธ",
      "attribute_type": "object",
      "is_required": true,
      "is_filterable": true,
      "is_searchable": false,
      "sub_attributes": [
        {
          "name": "strength",
          "display_name": "ะกะธะปะฐ",
          "attribute_type": "number",
          "is_required": false,
          "is_filterable": true
        },
        {
          "name": "stamina",
          "display_name": "ะัะฝะพัะปะธะฒะพััั",
          "attribute_type": "number",
          "is_required": false,
          "is_filterable": true
        },
        {
          "name": "critical_strike",
          "display_name": "ะัะธัะธัะตัะบะธะน ัะดะฐั",
          "attribute_type": "number",
          "is_required": false,
          "is_filterable": true
        },
        {
          "name": "haste",
          "display_name": "ะกะบะพัะพััั",
          "attribute_type": "number",
          "is_required": false,
          "is_filterable": true
        }
      ],
      "sort_order": 4
    },
    {
      "id": "f1e2d3c4-b5a6-7a8b-9c0d-1e2f3a4b5c6d",
      "name": "binding",
      "display_name": "ะัะธะฒัะทะบะฐ",
      "attribute_type": "enum",
      "is_required": true,
      "is_filterable": true,
      "is_searchable": false,
      "enum_values": [
        {"value": "bind_on_pickup", "label": "ะัะธะฒัะทัะฒะฐะตััั ะฟัะธ ะฟะพะปััะตะฝะธะธ"},
        {"value": "bind_on_equip", "label": "ะัะธะฒัะทัะฒะฐะตััั ะฟัะธ ะฝะฐะดะตะฒะฐะฝะธะธ"},
        {"value": "bind_on_use", "label": "ะัะธะฒัะทัะฒะฐะตััั ะฟัะธ ะธัะฟะพะปัะทะพะฒะฐะฝะธะธ"},
        {"value": "no_binding", "label": "ะะต ะฟัะธะฒัะทัะฒะฐะตััั"}
      ],
      "sort_order": 5
    }
  ]
}
```
```

### 4.3 ะัะพัะตัั ัะดะตะปะบะธ

* ะะฝะธัะธะฐัะธั ัะดะตะปะบะธ ะฟะพะบัะฟะฐัะตะปะตะผ
* Escrow-ะผะตัะฐะฝะธะทะผ ั ัะพะปะดะธัะพะฒะฐะฝะธะตะผ ััะตะดััะฒ
* ะะพะดัะฒะตัะถะดะตะฝะธะต ะดะพััะฐะฒะบะธ ะฟัะตะดะผะตัะพะฒ
* ะะฒัะพะผะฐัะธัะตัะบะธะต ะฒัะฟะปะฐัั ะฟัะพะดะฐะฒัะฐะผ

**ะัะธะผะตั ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััะธ ัะดะตะปะบะธ:**
1. ะะพะบัะฟะฐัะตะปั ะธะฝะธัะธะธััะตั ััะฐะฝะทะฐะบัะธั: `POST /api/v1/transactions`
2. ะกะตัะฒะธั ะทะฐะผะพัะฐะถะธะฒะฐะตั ััะตะดััะฒะฐ: `POST /api/v1/payments/hold`
3. ะัะพะดะฐะฒะตั ะฟะตัะตะดะฐะตั ะฟัะตะดะผะตั ะฟะพะบัะฟะฐัะตะปั (off-platform)
4. ะะพะบัะฟะฐัะตะปั ะฟะพะดัะฒะตัะถะดะฐะตั ะฟะพะปััะตะฝะธะต: `POST /api/v1/transactions/{id}/complete`
5. ะกะธััะตะผะฐ ะพัะฒะพะฑะพะถะดะฐะตั ััะตะดััะฒะฐ ะฟัะพะดะฐะฒัั: `POST /api/v1/payments/capture`

### 4.4 ะะพัะตะปะตะบ ะธ ะฟะปะฐัะตะถะธ

* ะะฝัััะตะฝะฝะธะน ะบะพัะตะปะตะบ ะฟะพะปัะทะพะฒะฐัะตะปั ะดะปั ะบะฐะถะดะพะน ะฟะพะดะดะตัะถะธะฒะฐะตะผะพะน ะฒะฐะปััั
* ะะฝัะตะณัะฐัะธั ัะพ Stripe ะดะปั ะฟะพะฟะพะปะฝะตะฝะธั ะธ ะฒัะฒะพะดะฐ ััะตะดััะฒ
* ะัะปััะธะฒะฐะปััะฝะฐั ะฟะพะดะดะตัะถะบะฐ (USD, EUR, GBP) ั ะฐะฒัะพะบะพะฝะฒะตััะธะตะน
* ะััะพัะธั ััะฐะฝะทะฐะบัะธะน ะธ ะฒัะฟะธัะบะธ

**ะัะธะผะตั ััััะบัััั ะบะพัะตะปัะบะฐ:**
```json
{
  "id": "6721f4db-e2d4-4e23-bfd3-ba1d98152b0c",
  "user_id": "af7c441e-2e9c-48f0-8b27-3d39a8f2c9d5",
  "currency": "USD",
  "balance": "152.47",
  "transactions": [
    {
      "id": "f5d8e39a-c347-4321-b544-1f2b75c26ef9",
      "type": "DEPOSIT",
      "amount": "100.00",
      "status": "COMPLETED",
      "created_at": "2025-05-10T12:23:45Z"
    },
    {
      "id": "a2e4f918-b62d-4c17-9e88-7d2a3b4c5d6e",
      "type": "PURCHASE",
      "amount": "-19.99",
      "status": "COMPLETED",
      "created_at": "2025-05-11T09:15:22Z",
      "reference_id": "c8c40a32-6e0a-4d32-9c50-e48dd89e77ac"
    }
  ]
}
```

### 4.5 ะกะธััะตะผะฐ ัะฟะพัะพะฒ

* ะัะบัััะธะต ัะฟะพัะฐ ะฟัะธ ะฟัะพะฑะปะตะผะต ั ะดะพััะฐะฒะบะพะน ะฟัะตะดะผะตัะฐ
* ะะฐะณััะทะบะฐ ะดะพะบะฐะทะฐัะตะปัััะฒ (ัะบัะธะฝัะพัั, ะฒะธะดะตะพ)
* ะะฝัะตััะตะนั ะผะพะดะตัะฐัะพัะฐ ะดะปั ัะฐะทัะตัะตะฝะธั ัะฟะพัะพะฒ
* ะะฒัะพะผะฐัะธัะตัะบะธะน ะฒะพะทะฒัะฐั ััะตะดััะฒ ะฟัะธ ัะฐะนะผ-ะฐััะต

**ะัะธะผะตั ัะพะทะดะฐะฝะธั ัะฟะพัะฐ:**
```http
POST /api/v1/disputes HTTP/1.1
Content-Type: application/json
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

{
  "transaction_id": "c8c40a32-6e0a-4d32-9c50-e48dd89e77ac",
  "reason": "ITEM_NOT_RECEIVED",
  "description": "ะัะพะดะฐะฒะตั ะฝะต ะฟะตัะตะดะฐะป ะฟัะตะดะผะตั ะฒ ัะตัะตะฝะธะต 24 ัะฐัะพะฒ",
  "evidence_urls": [
    "https://marketplace-media.s3.amazonaws.com/evidence/screenshot1.jpg"
  ]
}
```

### 4.6 ะฃะฒะตะดะพะผะปะตะฝะธั

* ะะตะฐะปะธะทะฐัะธั ัะตัะตะท WebSocket ะดะปั ะผะณะฝะพะฒะตะฝะฝัั ัะฒะตะดะพะผะปะตะฝะธะน
* Push-ัะฒะตะดะพะผะปะตะฝะธั ะฒ ะฑัะฐัะทะตัะต
* Email-ัะฒะตะดะพะผะปะตะฝะธั ะดะปั ะฒะฐะถะฝัั ัะพะฑััะธะน
* SMS-ัะฒะตะดะพะผะปะตะฝะธั (ะพะฟัะธะพะฝะฐะปัะฝะพ)

**ะัะธะผะตั ััััะบัััั ัะฒะตะดะพะผะปะตะฝะธั:**
```json
{
  "id": "a0f4e9d8-b7c6-4a3b-85e2-1d0c9b8a7f6e",
  "user_id": "af7c441e-2e9c-48f0-8b27-3d39a8f2c9d5",
  "type": "TRANSACTION_COMPLETED",
  "title": "ะกะดะตะปะบะฐ ะทะฐะฒะตััะตะฝะฐ",
  "body": "ะกะดะตะปะบะฐ #c8c40a32 ััะฟะตัะฝะพ ะทะฐะฒะตััะตะฝะฐ. ะะต ะทะฐะฑัะดััะต ะพััะฐะฒะธัั ะพัะทัะฒ!",
  "created_at": "2025-05-12T15:42:18Z",
  "read": false,
  "action_url": "/transactions/c8c40a32-6e0a-4d32-9c50-e48dd89e77ac/review"
}
```

### 4.7 ะะฝะฐะปะธัะธัะตัะบะฐั ะฟะฐะฝะตะปั ะดะปั ะฐะดะผะธะฝะธัััะฐัะพัะพะฒ

* ะะฐัะฑะพัะด ั ะบะปััะตะฒัะผะธ ะผะตััะธะบะฐะผะธ ะฑะธะทะฝะตัะฐ
* ะะตัะฐะปัะฝะฐั ััะฐัะธััะธะบะฐ ะฟะพ ะฟัะพะดะฐะถะฐะผ, ะฟะพะปัะทะพะฒะฐัะตะปัะผ ะธ ัะฟะพัะฐะผ
* ะัะฐัะธะบะธ ะฐะบัะธะฒะฝะพััะธ ะธ ะบะพะฝะฒะตััะธะน
* ะญะบัะฟะพัั ะพััะตัะพะฒ ะฒ CSV/Excel

**ะะปััะตะฒัะต ะผะตััะธะบะธ ะดะฐัะฑะพัะดะฐ:**
* ะะฑัะธะน ะพะฑัะตะผ ะฟัะพะดะฐะถ (GMV) ะทะฐ ะฟะตัะธะพะด
* ะะพะปะธัะตััะฒะพ ะฐะบัะธะฒะฝัั ะฟะพะปัะทะพะฒะฐัะตะปะตะน (DAU/MAU)
* ะกัะตะดะฝะธะน ัะตะบ ะธ ะบะพะผะธััะธั ะฟะปะฐััะพัะผั
* Conversion rate ะฒะพัะพะฝะบะธ ะฟะพะบัะฟะบะธ
* ะัะพัะตะฝั ััะฟะตัะฝะพ ะทะฐะบััััั ัะฟะพัะพะฒ
* TOP-10 ะฟะพะฟัะปััะฝัั ะฟัะตะดะผะตัะพะฒ ะธ ะธะณั

**ะัะธะผะตั ััััะบัััั ะดะฐัะฑะพัะดะฐ:**
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะะปััะตะฒัะต ะผะตััะธะบะธ        โ โ ะัะพะดะฐะถะธ ะฟะพ ะธะณัะฐะผ        โ
โ GMV: $125,432           โ โ [ะััะณะพะฒะฐั ะดะธะฐะณัะฐะผะผะฐ]    โ
โ ะขัะฐะฝะทะฐะบัะธะธ: 834         โ โ                         โ
โ ะกั. ัะตะบ: $150.4         โ โ                         โ
โ ะะพะผะธััะธั: $12,543       โ โ                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโโโโโโโโโ
โโโโโโโโโโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะะบัะธะฒะฝะพััั ะฟะพะปัะทะพะฒะฐัะตะปะตะนโ โ ะกัะฐัะธััะธะบะฐ ัะฟะพัะพะฒ       โ
โ [ะัะฐัะธะบ ะฟะพ ะดะฝัะผ]        โ โ ะัะบัััะพ: 24             โ
โ                         โ โ ะะตัะตะฝะพ: 22              โ
โ                         โ โ ะกัะตะดะฝะตะต ะฒัะตะผั: 1.2 ะดะฝั  โ
โ                         โ โ ะ ะฟะพะปัะทั ะฟะพะบัะฟะฐัะตะปั: 60%โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโโโโโโโโโ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ ะะพัะปะตะดะฝะธะต ััะฐะฝะทะฐะบัะธะธ                                  โ
โ ID         | ะกัะผะผะฐ   | ะะณัะฐ        | ะกัะฐััั | ะัะตะผั   โ
โ a27ba44e.. | $19.99  | Dragon Quest| COMPLETED| 14:38 โ
โ f8e91c5d.. | $45.50  | CS 2        | ESCROW  | 13:22  โ
โ ...                                                    โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ะญะบัะฐะฝั ะฐะดะผะธะฝ-ะฟะฐะฝะตะปะธ:**
1. ะะปะฐะฒะฝัะน ะดะฐัะฑะพัะด (ะพะฑะทะพั ะผะตััะธะบ)
2. ะฃะฟัะฐะฒะปะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ
3. ะะพะฝะธัะพัะธะฝะณ ััะฐะฝะทะฐะบัะธะน
4. ะะพะดะตัะฐัะธั ะปะธััะธะฝะณะพะฒ
5. ะะฐะทัะตัะตะฝะธะต ัะฟะพัะพะฒ
6. ะะฐัััะพะนะบะธ ะบะพะผะธััะธะน ะธ ะปะธะผะธัะพะฒ
7. ะััะตัั ะธ ะฐะฝะฐะปะธัะธะบะฐ

## 5. API ะธ ะธะฝัะตะณัะฐัะธะธ

### 5.1 REST API

ะัะต ัะตัะฒะธัั ะฟัะฑะปะธะบััั OpenAPI 3.1 ัะฟะตัะธัะธะบะฐัะธั, ะณะตะฝะตัะธััะตะผัั ะธะท ะบะพะด-ะฐะฝะฝะพัะฐัะธะน.

| ะกะตัะฒะธั | ะัะฝะพะฒะฝัะต ัะฝะดะฟะพะธะฝัั |
|--------|---------------------|
| auth-svc | `/v1/auth/register`, `/v1/auth/login`, `/v1/auth/refresh` |
| marketplace-svc | `/v1/listings`, `/v1/transactions`, `/v1/disputes` |
| payment-svc | `/v1/payments/hold`, `/v1/payments/capture`, `/v1/wallet` |
| notification-svc | `/v1/notifications`, `/v1/subscriptions` |
| admin-svc | `/v1/admin/dashboard`, `/v1/admin/reports` |

### 5.2 WebSockets API

```javascript
// ะัะธะผะตั ะฟะพะดะบะปััะตะฝะธั ะบ WebSocket
const socket = new WebSocket('wss://api.gametrade.com/v1/ws');

// ะะฒัะพัะธะทะฐัะธั ัะตัะตะท ัะพะบะตะฝ
socket.onopen = () => {
  socket.send(JSON.stringify({
    type: 'auth',
    token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...'
  }));
};

// ะะฑัะฐะฑะพัะบะฐ ัะฒะตะดะพะผะปะตะฝะธะน
socket.onmessage = (event) => {
  const notification = JSON.parse(event.data);
  console.log('ะะพะปััะตะฝะพ ัะฒะตะดะพะผะปะตะฝะธะต:', notification);
};
```

### 5.3 ะะฝะตัะฝะธะต ะธะฝัะตะณัะฐัะธะธ

* **Stripe API** โ ะฟะปะฐัะตะถะธ ะธ escrow
* **Steam API** โ ะฐะฒัะพัะธะทะฐัะธั ะธ ะฟัะพะฒะตัะบะฐ ะฟัะตะดะผะตัะพะฒ
* **Discord OAuth** โ ะฐะปััะตัะฝะฐัะธะฒะฝะฐั ะฐะฒัะพัะธะทะฐัะธั
* **AWS S3** โ ััะฐะฝะตะฝะธะต ะธะทะพะฑัะฐะถะตะฝะธะน ะธ ะผะตะดะธะฐัะฐะนะปะพะฒ
* **SendGrid/SES** โ ะพัะฟัะฐะฒะบะฐ email-ัะฒะตะดะพะผะปะตะฝะธะน

### 6.4 ะะธะฝะฐะผะธัะตัะบะฐั ััะตะผะฐ ะดะฐะฝะฝัั ะดะปั ะบะฐัะตะณะพัะธะทะฐัะธะธ

ะะปั ะฟะพะดะดะตัะถะบะธ ัะฐะทะปะธัะฝัั ะธะณั ั ะธั ัะฝะธะบะฐะปัะฝัะผะธ ัะธะฟะฐะผะธ ัะพะฒะฐัะพะฒ ะธ ะฐััะธะฑััะฐะผะธ ะฟัะตะดะผะตัะพะฒ ะฝะตะพะฑัะพะดะธะผะฐ ะณะธะฑะบะฐั ััะตะผะฐ ะดะฐะฝะฝัั:

```sql
-- ะะณัั
CREATE TABLE games (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    code TEXT NOT NULL UNIQUE,
    name TEXT NOT NULL,
    icon_url TEXT,
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMPTZ NOT NULL DEFAULT now()
);

-- ะะฐัะตะณะพัะธะธ ัะพะฒะฐัะพะฒ (ะธะตัะฐััะธัะตัะบะฐั ััััะบัััะฐ)
CREATE TABLE item_categories (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    game_id UUID NOT NULL REFERENCES games(id),
    parent_id UUID REFERENCES item_categories(id),
    name TEXT NOT NULL,
    slug TEXT NOT NULL,
    level INTEGER NOT NULL, -- ััะพะฒะตะฝั ะฒะปะพะถะตะฝะฝะพััะธ
    sort_order INTEGER NOT NULL DEFAULT 0,
    icon_url TEXT,
    is_active BOOLEAN DEFAULT TRUE,
    CONSTRAINT unique_category_slug_per_game UNIQUE (game_id, slug)
);

-- ะััะธะฑััั ะบะฐัะตะณะพัะธะน
CREATE TABLE category_attributes (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    category_id UUID NOT NULL REFERENCES item_categories(id),
    name TEXT NOT NULL,
    display_name TEXT NOT NULL,
    attribute_type TEXT NOT NULL, -- string, number, boolean, enum, object
    is_required BOOLEAN DEFAULT FALSE,
    is_filterable BOOLEAN DEFAULT FALSE,
    is_searchable BOOLEAN DEFAULT FALSE,
    default_value JSONB,
    validation_rules JSONB,
    enum_values JSONB,
    sub_attributes JSONB, -- ะดะปั ะฒะปะพะถะตะฝะฝัั ะพะฑัะตะบัะพะฒ
    sort_order INTEGER NOT NULL DEFAULT 0,
    CONSTRAINT unique_attribute_per_category UNIQUE (category_id, name)
);

-- ะจะฐะฑะปะพะฝั ะฟัะตะดะผะตัะพะฒ ั ะดะธะฝะฐะผะธัะตัะบะธะผะธ ะฐััะธะฑััะฐะผะธ
CREATE TABLE item_templates (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    game_id UUID NOT NULL REFERENCES games(id),
    category_id UUID NOT NULL REFERENCES item_categories(id),
    name TEXT NOT NULL,
    description TEXT,
    attributes JSONB NOT NULL DEFAULT '{}'::jsonb,
    created_at TIMESTAMPTZ NOT NULL DEFAULT now(),
    is_active BOOLEAN NOT NULL DEFAULT TRUE
);

-- ะะฐััะธัะตะฝะฝะฐั ัะฐะฑะปะธัะฐ ะปะพัะพะฒ ะดะปั ะฟะพะดะดะตัะถะบะธ ะบะฐัะตะณะพัะธะน ะธ ะฐััะธะฑััะพะฒ
CREATE TABLE listings (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    seller_id UUID NOT NULL REFERENCES users(id),
    game_id UUID NOT NULL REFERENCES games(id),
    category_id UUID NOT NULL REFERENCES item_categories(id),
    item_template_id UUID REFERENCES item_templates(id), -- ะพะฟัะธะพะฝะฐะปัะฝะพ
    title TEXT NOT NULL,
    description TEXT,
    price NUMERIC(14,2) NOT NULL,
    currency CHAR(3) NOT NULL,
    quantity INTEGER NOT NULL DEFAULT 1,
    attributes JSONB NOT NULL DEFAULT '{}'::jsonb,
    delivery_method TEXT NOT NULL,
    delivery_time TEXT NOT NULL,
    status listing_status NOT NULL DEFAULT 'PENDING',
    created_at TIMESTAMPTZ NOT NULL DEFAULT now(),
    expires_at TIMESTAMPTZ NOT NULL
);

-- ะะทะพะฑัะฐะถะตะฝะธั ะปะพัะพะฒ
CREATE TABLE listing_images (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    listing_id UUID NOT NULL REFERENCES listings(id) ON DELETE CASCADE,
    url TEXT NOT NULL,
    sort_order INTEGER NOT NULL DEFAULT 0
);

-- ะะฝะดะตะบัั ะดะปั ัััะตะบัะธะฒะฝะพะณะพ ะฟะพะธัะบะฐ
CREATE INDEX idx_listings_game ON listings(game_id);
CREATE INDEX idx_listings_category ON listings(category_id);
CREATE INDEX idx_listings_seller ON listings(seller_id);
CREATE INDEX idx_listings_status ON listings(status);
CREATE INDEX idx_listings_price ON listings(price);
CREATE INDEX idx_item_templates_game ON item_templates(game_id);
CREATE INDEX idx_item_templates_category ON item_templates(category_id);
CREATE INDEX idx_item_categories_game ON item_categories(game_id);
CREATE INDEX idx_item_categories_parent ON item_categories(parent_id);

-- ะะพะปะฝะพัะตะบััะพะฒัะน ะฟะพะธัะบ
CREATE INDEX idx_listings_title_trgm ON listings USING GIN (title gin_trgm_ops);
CREATE INDEX idx_listings_description_trgm ON listings USING GIN (description gin_trgm_ops);

-- ะะฝะดะตะบัั ะดะปั JSON ะฐััะธะฑััะพะฒ (ะดะปั ัะธะปัััะฐัะธะธ)
CREATE INDEX idx_listings_attrs ON listings USING GIN(attributes);
CREATE INDEX idx_item_templates_attrs ON item_templates USING GIN(attributes);
```

## 7. Frontend

### 7.1 ะะปััะตะฒัะต ัััะฐะฝะธัั

* ะะปะฐะฒะฝะฐั ัััะฐะฝะธัะฐ (ะฟะพัะปะตะดะฝะธะต ะปะพัั, ะฟะพะฟัะปััะฝัะต ะธะณัั)
* ะะฐัะฐะปะพะณ ะฟัะตะดะผะตัะพะฒ ั ัะธะปัััะฐะผะธ
* ะกััะฐะฝะธัะฐ ะปะพัะฐ ั ะดะตัะฐะปัะผะธ ะธ ะบะฝะพะฟะบะพะน ะฟะพะบัะฟะบะธ
* ะะธัะฝัะน ะบะฐะฑะธะฝะตั (ะฟัะพัะธะปั, ะบะพัะตะปะตะบ, ะธััะพัะธั)
* ะกััะฐะฝะธัะฐ ะฟัะพะดะฐะฒัะฐ (ัะพัะผะฐ ัะพะทะดะฐะฝะธั ะปะพัะฐ)
* ะกััะฐะฝะธัะฐ ะฟะพะบัะฟะบะธ (ะฟะพะดัะฒะตัะถะดะตะฝะธะต, ะพะฟะปะฐัะฐ)
* ะกััะฐะฝะธัะฐ ัะฟะพัะฐ (ะดะพะบะฐะทะฐัะตะปัััะฒะฐ, ะฟะตัะตะฟะธัะบะฐ)
* ะะดะผะธะฝ-ะฟะฐะฝะตะปั ั ะดะฐัะฑะพัะดะฐะผะธ ะธ ัะฟัะฐะฒะปะตะฝะธะตะผ

### 7.2 ะะฐะบะตัั UI

```
โโ ะะปะฐะฒะฝะฐั ัััะฐะฝะธัะฐ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                         โ
โ  โโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ  โ ะะพะณะพัะธะฟ  โ โ ะะพะธัะบ                        [๐] โ    โ
โ  โโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ                                                         โ
โ  โโโโโโโโโโโ โโโโโโโโโโโ โโโโโโโโโโโ โโโโโโโโโโโ       โ
โ  โ ะะณัะฐ 1  โ โ ะะณัะฐ 2  โ โ ะะณัะฐ 3  โ โ ะะณัะฐ 4  โ ...   โ
โ  โโโโโโโโโโโ โโโโโโโโโโโ โโโโโโโโโโโ โโโโโโโโโโโ       โ
โ                                                         โ
โ  ะะพะฟัะปััะฝัะต ะฟัะตะดะผะตัั                                    โ
โ  โโโโโโโโโโโโโ โโโโโโโโโโโโโ โโโโโโโโโโโโโ             โ
โ  โ [ะะทะพะฑั.]  โ โ [ะะทะพะฑั.]  โ โ [ะะทะพะฑั.]  โ             โ
โ  โ ะัะตะดะผะตั 1 โ โ ะัะตะดะผะตั 2 โ โ ะัะตะดะผะตั 3 โ ...         โ
โ  โ $19.99    โ โ $24.50    โ โ $12.75    โ             โ
โ  โโโโโโโโโโโโโ โโโโโโโโโโโโโ โโโโโโโโโโโโโ             โ
โ                                                         โ
โ  ะะพัะปะตะดะฝะธะต ะดะพะฑะฐะฒะปะตะฝะฝัะต                                  โ
โ  โโโโโโโโโโโโโ โโโโโโโโโโโโโ โโโโโโโโโโโโโ             โ
โ  โ [ะะทะพะฑั.]  โ โ [ะะทะพะฑั.]  โ โ [ะะทะพะฑั.]  โ             โ
โ  โ ะัะตะดะผะตั 4 โ โ ะัะตะดะผะตั 5 โ โ ะัะตะดะผะตั 6 โ ...         โ
โ  โ $35.00    โ โ $8.99     โ โ $42.25    โ             โ
โ  โโโโโโโโโโโโโ โโโโโโโโโโโโโ โโโโโโโโโโโโโ             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## 8. ะขะตัะฝะธัะตัะบะธะต ััะตะฑะพะฒะฐะฝะธั

### 8.1 ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั

* P95 latency < 200 ms ะดะปั API ะทะฐะฟัะพัะพะฒ
* ะะฑัะฐะฑะพัะบะฐ 1000 RPS ะฝะฐ ะฟะธะบะพะฒัั ะฝะฐะณััะทะบะฐั
* ะัะตะผั ะทะฐะณััะทะบะธ ัััะฐะฝะธัั < 1.5 ัะตะบ (FCP)
* SLA 99.9% (43.8 ะผะธะฝัั ะดะฐัะฝัะฐะนะผะฐ ะฒ ะผะตััั)

### 8.2 ะะฐัััะฐะฑะธััะตะผะพััั

* ะะพัะธะทะพะฝัะฐะปัะฝะพะต ะผะฐัััะฐะฑะธัะพะฒะฐะฝะธะต ัะตัะตะท Kubernetes HPA
* ะจะฐัะดะธัะพะฒะฐะฝะธะต ะฑะฐะทั ะดะฐะฝะฝัั ะฟะพ ะผะตัะต ัะพััะฐ
* ะะตัะธัะพะฒะฐะฝะธะต ัะฐััะพ ะทะฐะฟัะฐัะธะฒะฐะตะผัั ะดะฐะฝะฝัั ะฒ Redis
* ะัะธะฝััะพะฝะฝะฐั ะพะฑัะฐะฑะพัะบะฐ ััะถะตะปัั ะพะฟะตัะฐัะธะน ัะตัะตะท ะพัะตัะตะดะธ

### 8.3 ะะตะทะพะฟะฐัะฝะพััั

* OWASP Top-10 ะฟัะพะฒะตัะบะธ (ะฐะฒัะพะผะฐัะธัะตัะบะธะต ะธ ัััะฝัะต)
* ะฅัะฐะฝะตะฝะธะต ะฟะฐัะพะปะตะน ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ bcrypt/Argon2
* Rate limiting ะดะปั API ะทะฐะฟัะพัะพะฒ
* HTTPS ะดะปั ะฒัะตั ัะพะตะดะธะฝะตะฝะธะน
* Rotations ัะตะบัะตัะพะฒ ะบะฐะถะดัะต 90 ะดะฝะตะน
* WAF ะดะปั ะทะฐัะธัั ะพั DDoS ะธ ะดััะณะธั ะฐัะฐะบ

## 9. ะะฝััะฐััััะบัััะฐ

### 9.1 ะะฐะทะฒะตัััะฒะฐะฝะธะต

* Kubernetes (EKS) ั ะฐะฒัะพะผะฐัััะฐะฑะธัะพะฒะฐะฝะธะตะผ
* Multi-AZ ะดะปั ะพะฑะตัะฟะตัะตะฝะธั ะฒััะพะบะพะน ะดะพัััะฟะฝะพััะธ
* CI/CD ัะตัะตะท GitHub Actions + ArgoCD
* Blue/Green deployments ะดะปั zero-downtime ะพะฑะฝะพะฒะปะตะฝะธะน

### 9.2 ะะพะฝะธัะพัะธะฝะณ

* Prometheus + Grafana ะดะปั ัะธััะตะผะฝัั ะผะตััะธะบ
* OpenTelemetry + Jaeger ะดะปั ััะฐััะธัะพะฒะบะธ ะทะฐะฟัะพัะพะฒ
* OpenSearch + Fluent Bit ะดะปั ะปะพะณะพะฒ
* PagerDuty ะธะฝัะตะณัะฐัะธั ะดะปั ะฐะปะตััะธะฝะณะฐ
* Custom ะดะฐัะฑะพัะดั ะดะปั ะฑะธะทะฝะตั-ะผะตััะธะบ

## 10. ะะปะฐะฝ ัะฐะทัะฐะฑะพัะบะธ

### 10.1 ะคะฐะทั ะฟัะพะตะบัะฐ

| ะคะฐะทะฐ | ะะปะธัะตะปัะฝะพััั | ะฆะตะปั | ะััะพะดะฝะพะน ะฐััะตัะฐะบั |
|------|--------------|------|-------------------|
| ะะธะทะฐะนะฝ | 2 ะฝะตะดะตะปะธ | ะัะพัะฐะฑะพัะบะฐ ะฐััะธัะตะบัััั ะธ ะธะฝัะตััะตะนัะพะฒ | ะฃัะฒะตัะถะดะตะฝะฝัะต ะผะฐะบะตัั ะธ ััะตะผั |
| Alpha | 6 ะฝะตะดะตะปั | ะะฐะทะพะฒะฐั ััะฝะบัะธะพะฝะฐะปัะฝะพััั | MVP ั auth+listings+transactions |
| Beta | 4 ะฝะตะดะตะปะธ | ะะพะปะฝัะน ััะฝะบัะธะพะฝะฐะป | ะะตััะธั ะดะปั ะฒะฝัััะตะฝะฝะตะณะพ ัะตััะธัะพะฒะฐะฝะธั |
| RC | 2 ะฝะตะดะตะปะธ | ะะฟัะธะผะธะทะฐัะธั ะธ bug fixing | ะัะตะดัะตะปะธะทะฝะฐั ะฒะตััะธั |
| ะะตะปะธะท | 1 ะฝะตะดะตะปั | ะัะฑะปะธัะฝัะน ะทะฐะฟััะบ | ะะตััะธั 1.0 |

### 10.2 ะัะธะพัะธัะตัั ัะฐะทัะฐะฑะพัะบะธ

1. ะกะธััะตะผะฐ ะฐััะตะฝัะธัะธะบะฐัะธะธ ะธ ะฐะฒัะพัะธะทะฐัะธะธ
2. ะฃะฟัะฐะฒะปะตะฝะธะต ะปะพัะฐะผะธ ะธ ะฟะพะธัะบ
3. ะัะพัะตัั ะฟะพะบัะฟะบะธ ะธ Escrow
4. ะกะธััะตะผะฐ ัะฒะตะดะพะผะปะตะฝะธะน
5. ะะพัะตะปัะบะธ ะธ ะฟะปะฐัะตะถะธ
6. ะกะธััะตะผะฐ ัะฟะพัะพะฒ ะธ ะฐัะฑะธััะฐะถะฐ
7. ะะดะผะธะฝ-ะฟะฐะฝะตะปั ะธ ะฐะฝะฐะปะธัะธะบะฐ
8. ะะฟัะธะผะธะทะฐัะธั ะธ ะผะฐัััะฐะฑะธัะพะฒะฐะฝะธะต

## 11. ะะธัะบะธ ะธ ะผะธัะธะณะฐัะธะธ

| ะะธัะบ | ะะตัะพััะฝะพััั | ะะปะธัะฝะธะต | ะะธัะธะณะฐัะธั |
|------|-------------|---------|-----------|
| ะะฐััะพะฒัะต ะฟะพะฟััะบะธ ะผะพัะตะฝะฝะธัะตััะฒะฐ | ะััะพะบะฐั | ะััะพะบะพะต | Escrow + hold 48h, ML fraud detection |
| DDoS ะฐัะฐะบะธ | ะกัะตะดะฝัั | ะััะพะบะพะต | AWS Shield, rate limiting, CDN |
| ะัะพะฑะปะตะผั ั ะดะพัััะฟะฝะพัััั Stripe | ะะธะทะบะฐั | ะกัะตะดะฝะตะต | Retry strategy ั backoff, ะผะพะฝะธัะพัะธะฝะณ |
| ะะตะดะพััะฐัะพัะฝะฐั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััั ะะ | ะกัะตะดะฝัั | ะััะพะบะพะต | ะะฝะดะตะบัั, ัะฐัะดะธัะพะฒะฐะฝะธะต, ะบะตัะธัะพะฒะฐะฝะธะต |
| ะััะพะบ ะฟะพะปัะทะพะฒะฐัะตะปะตะน ะธะท-ะทะฐ UX | ะกัะตะดะฝัั | ะััะพะบะพะต | A/B ัะตััะธัะพะฒะฐะฝะธะต, ะฐะฝะฐะปะธัะธะบะฐ behavior flow |

## 12. ะะตััะธะบะธ ััะฟะตัะฐ

* > 10,000 DAU ัะตัะตะท 3 ะผะตัััะฐ ะฟะพัะปะต ะทะฐะฟััะบะฐ
* > 50,000 ะปะธััะธะฝะณะพะฒ
* ะะพะฝะฒะตััะธั ะฟัะพัะผะพัั โ ะฟะพะบัะฟะบะฐ > 5%
* ะกัะตะดะฝะธะน ัะตะบ > $30
* ะัะพัะตะฝั ัะฟะพัะพะฒ < 2% ะพั ััะฐะฝะทะฐะบัะธะน
* ะัะตะผั ัะฐะทัะตัะตะฝะธั ัะฟะพัะพะฒ < 48 ัะฐัะพะฒ
* ะะพะผะธััะธั ะฟะปะฐััะพัะผั > $50,000 ะฒ ะผะตััั

## 13. ะัะธะผะตัั ะบะพะดะฐ ะธ ะธะฝัะตะณัะฐัะธะน

### 13.1 ะัะธะผะตั ัะพะทะดะฐะฝะธั ะปะพัะฐ (Backend, Python/FastAPI)

```python
# marketplace/api/routers/listings.py
from fastapi import APIRouter, Depends, HTTPException, status
from uuid import UUID

from marketplace.api.dependencies import get_current_user, get_listing_service
from marketplace.api.schemas.listings import ListingCreate, ListingResponse
from marketplace.services.listing_service import ListingService

router = APIRouter(prefix="/v1/listings", tags=["listings"])

@router.post("", response_model=ListingResponse, status_code=status.HTTP_201_CREATED)
async def create_listing(
    listing_data: ListingCreate,
    service: ListingService = Depends(get_listing_service),
    user_id: UUID = Depends(get_current_user)
):
    """
    ะกะพะทะดะฐะฝะธะต ะฝะพะฒะพะณะพ ะปะพัะฐ ะฝะฐ ะฟัะพะดะฐะถั.
    
    ะัะพะดะฐะฒะตั ะผะพะถะตั ะพะฟัะฑะปะธะบะพะฒะฐัั ะปะพั ั ะดะตัะฐะปัะฝะพะน ะธะฝัะพัะผะฐัะธะตะน ะพ ะฟัะตะดะผะตัะต,
    ัะบะฐะทะฐัั ัะตะฝั ะธ ััะพะบ ะดะตะนััะฒะธั ะพะฑััะฒะปะตะฝะธั.
    """
    try:
        listing = await service.create_listing(
            item_template_id=listing_data.item_id,
            seller_id=user_id,
            price=listing_data.price,
            currency=listing_data.currency,
            expires_at=listing_data.expires_at,
            description=listing_data.description
        )
        return listing
    except Exception as e:
        raise HTTPException(
            status_code=status.HTTP_400_BAD_REQUEST,
            detail=str(e)
        )
```

### 13.2 ะัะธะผะตั ะพะฑัะฐะฑะพัะบะธ ััะฐะฝะทะฐะบัะธะธ (Service Layer)

```python
# marketplace/services/transaction_service.py
from datetime import datetime
from decimal import Decimal
from uuid import UUID, uuid4

from marketplace.domain.listing import ListingStatus
from marketplace.domain.transaction import Transaction, TransactionStatus
from marketplace.events.publisher import EventPublisher
from marketplace.repositories.unit_of_work import UnitOfWork
from marketplace.services.payment_client import PaymentClient

class TransactionService:
    """Service ะดะปั ัะฟัะฐะฒะปะตะฝะธั ััะฐะฝะทะฐะบัะธัะผะธ ะฟะพะบัะฟะพะบ"""
    
    def __init__(
        self, 
        uow: UnitOfWork, 
        payment_client: PaymentClient,
        event_publisher: EventPublisher
    ):
        self.uow = uow
        self.payment_client = payment_client
        self.event_publisher = event_publisher
        
    async def create_transaction(
        self, 
        listing_id: UUID, 
        buyer_id: UUID
    ) -> Transaction:
        """
        ะกะพะทะดะฐะตั ะฝะพะฒัั ััะฐะฝะทะฐะบัะธั ะฟะพะบัะฟะบะธ:
        1. ะัะพะฒะตััะตั ะดะพัััะฟะฝะพััั ะปะพัะฐ
        2. ะัะพะฒะตััะตั ะฑะฐะปะฐะฝั ะฟะพะบัะฟะฐัะตะปั
        3. ะกะพะทะดะฐะตั Escrow-ัะพะปะด ัะตัะตะท Stripe
        4. ะะฑะฝะพะฒะปัะตั ััะฐัััั ะธ ะฑะฐะปะฐะฝัั
        5. ะัะฑะปะธะบัะตั ัะพะฑััะธะต
        """
        async with self.uow:
            # ะัะฝะพะฒะฝะฐั ะปะพะณะธะบะฐ ััะฐะฝะทะฐะบัะธะธ
            # ...
            
            # ะัะธะผะตั ะฟัะฑะปะธะบะฐัะธะธ ัะพะฑััะธั
            await self.event_publisher.publish_transaction_created(
                txn_id=str(transaction.id),
                buyer_id=str(buyer_id),
                seller_id=str(listing.seller_id),
                listing_id=str(listing_id),
                amount=str(listing.price),
                currency=listing.currency
            )
            
            return transaction
```

### 13.3 ะัะธะผะตั ัะพัะผั ะฟะพะบัะฟะบะธ (Frontend, React/TypeScript)

```typescript
// components/PurchaseForm.tsx
import React, { useState } from 'react';
import { useRouter } from 'next/router';
import { Button, Card, Text, Input, Spinner } from 'ui-components';
import { useCreateTransaction } from '@/hooks/api/useTransactions';
import { formatCurrency } from '@/utils/currency';

interface PurchaseFormProps {
  listingId: string;
  itemName: string;
  price: number;
  currency: string;
  sellerName: string;
}

export const PurchaseForm: React.FC<PurchaseFormProps> = ({
  listingId,
  itemName,
  price,
  currency,
  sellerName
}) => {
  const [confirmed, setConfirmed] = useState(false);
  const router = useRouter();
  const { mutate, isLoading, error } = useCreateTransaction();
  
  const handlePurchase = () => {
    if (!confirmed) return;
    
    mutate({ listingId }, {
      onSuccess: (data) => {
        router.push(`/transactions/${data.id}`);
      }
    });
  };
  
  return (
    <Card className="p-4 shadow-md rounded-lg">
      <Text size="lg" weight="bold">ะะพะบัะฟะบะฐ: {itemName}</Text>
      <Text size="md">ะัะพะดะฐะฒะตั: {sellerName}</Text>
      
      <div className="mt-4 mb-4">
        <Text size="xl" weight="bold" className="text-primary">
          {formatCurrency(price, currency)}
        </Text>
        <Text size="sm" className="text-gray-500">
          ะะบะปััะฐั ะบะพะผะธััะธั ะฟะปะฐััะพัะผั: {formatCurrency(price * 0.1, currency)}
        </Text>
      </div>
      
      <div className="mb-4">
        <label className="flex items-center">
          <input
            type="checkbox"
            checked={confirmed}
            onChange={() => setConfirmed(!confirmed)}
            className="mr-2"
          />
          <Text size="sm">
            ะฏ ะฟะพะดัะฒะตัะถะดะฐั, ััะพ ะพะทะฝะฐะบะพะผะธะปัั ั ััะปะพะฒะธัะผะธ ะฟะพะบัะฟะบะธ ะธ 
            ัะพะณะปะฐัะตะฝ ั ะฟัะฐะฒะธะปะฐะผะธ ะฟะปะฐััะพัะผั
          </Text>
        </label>
      </div>
      
      {error && (
        <Text color="error" size="sm" className="mb-2">
          {error.message}
        </Text>
      )}
      
      <Button
        variant="primary"
        size="lg"
        disabled={!confirmed || isLoading}
        onClick={handlePurchase}
        className="w-full"
      >
        {isLoading ? <Spinner size="sm" /> : 'ะะพะดัะฒะตัะดะธัั ะฟะพะบัะฟะบั'}
      </Button>
    </Card>
  );
};
```

### 13.4 ะัะธะผะตั ะฐะดะผะธะฝ-ะดะฐัะฑะพัะดะฐ ั ะผะตััะธะบะฐะผะธ

```typescript
// pages/admin/dashboard.tsx
import React, { useEffect } from 'react';
import { AdminLayout } from '@/layouts/AdminLayout';
import { MetricCard, BarChart, LineChart, PieChart, DataTable } from '@/components/admin';
import { useDashboardStats, useRecentTransactions } from '@/hooks/api/admin';

const AdminDashboard: React.FC = () => {
  const { data: stats, isLoading: statsLoading } = useDashboardStats();
  const { data: transactions, isLoading: txnsLoading } = useRecentTransactions();
  
  return (
    <AdminLayout title="ะะฐะฝะตะปั ัะฟัะฐะฒะปะตะฝะธั">
      <div className="grid grid-cols-4 gap-4 mb-6">
        <MetricCard
          title="GMV"
          value={stats?.gmv || 0}
          format="currency"
          trend={stats?.gmvTrend || 0}
          icon="chart-line"
          loading={statsLoading}
        />
        <MetricCard
          title="ะขัะฐะฝะทะฐะบัะธะธ"
          value={stats?.transactions || 0}
          trend={stats?.transactionsTrend || 0}
          icon="shopping-cart"
          loading={statsLoading}
        />
        <MetricCard
          title="ะะพะฒัะต ะฟะพะปัะทะพะฒะฐัะตะปะธ"
          value={stats?.newUsers || 0}
          trend={stats?.newUsersTrend || 0}
          icon="users"
          loading={statsLoading}
        />
        <MetricCard
          title="ะะบัะธะฒะฝัะต ัะฟะพัั"
          value={stats?.activeDisputes || 0}
          trend={stats?.activeDisputesTrend || 0}
          icon="exclamation-triangle"
          loading={statsLoading}
        />
      </div>
      
      <div className="grid grid-cols-2 gap-6 mb-6">
        <div className="bg-white p-4 rounded-lg shadow">
          <h3 className="text-lg font-semibold mb-4">ะัะพะดะฐะถะธ ะฟะพ ะดะฝัะผ</h3>
          <LineChart
            data={stats?.salesByDay || []}
            xKey="date"
            yKey="amount"
            loading={statsLoading}
          />
        </div>
        <div className="bg-white p-4 rounded-lg shadow">
          <h3 className="text-lg font-semibold mb-4">ะขะพะฟ ะธะณั</h3>
          <PieChart
            data={stats?.topGames || []}
            nameKey="game"
            valueKey="percentage"
            loading={statsLoading}
          />
        </div>
      </div>
      
      <div className="bg-white p-4 rounded-lg shadow mb-6">
        <div className="flex justify-between items-center mb-4">
          <h3 className="text-lg font-semibold">ะะพัะปะตะดะฝะธะต ััะฐะฝะทะฐะบัะธะธ</h3>
          <button className="text-primary-600 hover:underline">
            ะกะผะพััะตัั ะฒัะต
          </button>
        </div>
        <DataTable
          data={transactions || []}
          columns={[
            { header: 'ID', accessor: 'id', truncate: true },
            { header: 'ะะพะบัะฟะฐัะตะปั', accessor: 'buyerName' },
            { header: 'ะัะตะดะผะตั', accessor: 'itemName' },
            { header: 'ะกัะผะผะฐ', accessor: 'amount', type: 'currency' },
            { header: 'ะกัะฐััั', accessor: 'status', type: 'badge' },
            { header: 'ะะฐัะฐ', accessor: 'createdAt', type: 'datetime' },
          ]}
          loading={txnsLoading}
        />
      </div>
    </AdminLayout>
  );
};

export default AdminDashboard;
```

## 14. ะัะธะปะพะถะตะฝะธั

### 14.1 API ะญะฝะดะฟะพะธะฝัั

#### auth-service
* POST /v1/auth/register - ะะตะณะธัััะฐัะธั
* POST /v1/auth/login - ะะฒัะพัะธะทะฐัะธั
* POST /v1/auth/refresh - ะะฑะฝะพะฒะปะตะฝะธะต ัะพะบะตะฝะฐ
* GET /v1/auth/me - ะัะพัะธะปั ัะตะบััะตะณะพ ะฟะพะปัะทะพะฒะฐัะตะปั
* PUT /v1/auth/profile - ะะฑะฝะพะฒะปะตะฝะธะต ะฟัะพัะธะปั

#### marketplace-service
* GET /v1/listings - ะะพะธัะบ ะปะพัะพะฒ
* POST /v1/listings - ะกะพะทะดะฐะฝะธะต ะปะพัะฐ
* GET /v1/listings/{id} - ะะพะปััะตะฝะธะต ะปะพัะฐ
* PATCH /v1/listings/{id} - ะะฑะฝะพะฒะปะตะฝะธะต ะปะพัะฐ
* DELETE /v1/listings/{id} - ะฃะดะฐะปะตะฝะธะต ะปะพัะฐ
* GET /v1/games - ะกะฟะธัะพะบ ะธะณั
* GET /v1/items - ะะฐัะฐะปะพะณ ะฟัะตะดะผะตัะพะฒ

#### payment-service
* GET /v1/wallet - ะะพัะตะปะตะบ ะฟะพะปัะทะพะฒะฐัะตะปั
* POST /v1/wallet/deposit - ะะพะฟะพะปะฝะตะฝะธะต ััะตัะฐ
* POST /v1/wallet/withdraw - ะัะฒะพะด ััะตะดััะฒ
* GET /v1/wallet/transactions - ะััะพัะธั ััะฐะฝะทะฐะบัะธะน
* POST /v1/payments/hold - ะกะพะทะดะฐะฝะธะต ัะพะปะดะฐ
* POST /v1/payments/capture - ะะฐะทะฑะปะพะบะธัะพะฒะบะฐ ััะตะดััะฒ
* POST /v1/payments/refund - ะะพะทะฒัะฐั

#### transaction-service
* POST /v1/transactions - ะกะพะทะดะฐะฝะธะต ัะดะตะปะบะธ
* GET /v1/transactions/{id} - ะะฝัะพัะผะฐัะธั ะพ ัะดะตะปะบะต
* POST /v1/transactions/{id}/complete - ะะพะดัะฒะตัะถะดะตะฝะธะต ะฟะพะปััะตะฝะธั
* GET /v1/transactions/history - ะััะพัะธั ัะดะตะปะพะบ
* POST /v1/disputes - ะัะบัััะธะต ัะฟะพัะฐ
* GET /v1/disputes/{id} - ะะพะปััะตะฝะธะต ัะฟะพัะฐ
* POST /v1/disputes/{id}/messages - ะัะฟัะฐะฒะบะฐ ัะพะพะฑัะตะฝะธั
* POST /v1/disputes/{id}/resolve - ะะฐะทัะตัะตะฝะธะต ัะฟะพัะฐ

#### admin-service
* GET /v1/admin/dashboard - ะะฑัะฐั ััะฐัะธััะธะบะฐ
* GET /v1/admin/users - ะฃะฟัะฐะฒะปะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ
* GET /v1/admin/transactions - ะะพะฝะธัะพัะธะฝะณ ััะฐะฝะทะฐะบัะธะน
* GET /v1/admin/disputes - ะะพะดะตัะฐัะธั ัะฟะพัะพะฒ
* GET /v1/admin/settings - ะะฐัััะพะนะบะธ ะฟะปะฐััะพัะผั
* GET /v1/admin/reports - ะคะพัะผะธัะพะฒะฐะฝะธะต ะพััะตัะพะฒ

### 14.2 ะกะธััะตะผะฝัะต ััะตะฑะพะฒะฐะฝะธั

#### Server Requirements
* CPU: Min 4 vCPU (ัะตะบะพะผะตะฝะดัะตััั 8 vCPU)
* RAM: Min 8GB (ัะตะบะพะผะตะฝะดัะตััั 16GB)
* ะฅัะฐะฝะธะปะธัะต: SSD 100GB+
* ะกะตัั: 1Gbps, ะพะฟัะธะผะธะทะธัะพะฒะฐะฝะฝัะน ะดะปั ะฝะธะทะบะพะน ะปะฐัะตะฝัะฝะพััะธ

#### Database Requirements
* PostgreSQL 15+
* Min 8GB RAM, 4 vCPU
* ะะธัะบ: 200GB SSD
* ะะตะฟะปะธะบะฐัะธั: Master + Read Replica

#### Client Requirements
* ะะพะดะดะตัะถะธะฒะฐะตะผัะต ะฑัะฐัะทะตัั: Chrome 90+, Firefox 90+, Safari 14+, Edge 90+
* ะะธะฝะธะผะฐะปัะฝะฐั ัะบะพัะพััั ะธะฝัะตัะฝะตัะฐ: 5 Mbps
* ะะฐะทัะตัะตะฝะธะต ัะบัะฐะฝะฐ: ะะธะฝ. 1366x768

### 14.3 ะะปะพััะฐัะธะน ัะธััะตะผะฝัั ัะพะพะฑัะตะฝะธะน

| ะะพะด ะพัะธะฑะบะธ | HTTP Code | ะะฟะธัะฐะฝะธะต |
|------------|-----------|----------|
| AUTH_001 | 401 | ะะตะฒะตัะฝัะต ััะตัะฝัะต ะดะฐะฝะฝัะต |
| AUTH_002 | 401 | ะขะพะบะตะฝ ะธััะตะบ |
| AUTH_003 | 403 | ะะตะดะพััะฐัะพัะฝะพ ะฟัะฐะฒ |
| LISTING_001 | 404 | ะะพั ะฝะต ะฝะฐะนะดะตะฝ |
| LISTING_002 | 400 | ะะตะบะพััะตะบัะฝัะต ะดะฐะฝะฝัะต ะปะพัะฐ |
| LISTING_003 | 403 | ะะตั ะฟัะฐะฒ ะฝะฐ ัะตะดะฐะบัะธัะพะฒะฐะฝะธะต ะปะพัะฐ |
| TXN_001 | 409 | ะะตะดะพััะฐัะพัะฝะพ ััะตะดััะฒ |
| TXN_002 | 400 | ะัะธะฑะบะฐ ัะพะทะดะฐะฝะธั ััะฐะฝะทะฐะบัะธะธ |
| TXN_003 | 409 | ะขัะฐะฝะทะฐะบัะธั ัะถะต ะทะฐะฒะตััะตะฝะฐ |
| PAYMENT_001 | 400 | ะัะธะฑะบะฐ ะฟะปะฐัะตะถะฝะพะณะพ ัะปัะทะฐ |
| PAYMENT_002 | 422 | ะะปะฐัะตะถ ะพัะบะปะพะฝะตะฝ |

## 15. ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ ะธ ัะฐะนะปะพะฒะฐั ััััะบัััะฐ

### 15.1 ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ

#### Backend
* **ะฏะทัะบ ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธั:** Python 3.12
* **Web-ััะตะนะผะฒะพัะบ:** FastAPI 0.110.0
* **ORM:** SQLAlchemy 2.0 + Alembic (ะผะธะณัะฐัะธะธ)
* **ะะฐะปะธะดะฐัะธั ะดะฐะฝะฝัั:** Pydantic v2
* **ะัะธะฝััะพะฝะฝะฐั ะพะฑัะฐะฑะพัะบะฐ:** asyncio, uvloop
* **ะะฐะทั ะดะฐะฝะฝัั:**
  * PostgreSQL 15 (ะพัะฝะพะฒะฝะพะต ััะฐะฝะธะปะธัะต ะดะฐะฝะฝัั)
  * Redis 7 (ะบะตัะธัะพะฒะฐะฝะธะต, ัะตััะธะธ, rate limiting)
  * Elasticsearch 8 (ะฟะพะปะฝะพัะตะบััะพะฒัะน ะฟะพะธัะบ)
* **ะัะพะบะตั ัะพะพะฑัะตะฝะธะน:** RabbitMQ ั aio-pika
* **ะะฒัะพัะธะทะฐัะธั:** JWT ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ python-jose
* **ะจะธััะพะฒะฐะฝะธะต:** passlib + bcrypt
* **API-ะดะพะบัะผะตะฝัะฐัะธั:** OpenAPI 3.1 ั Swagger UI
* **ะขะตััะธัะพะฒะฐะฝะธะต:** pytest, pytest-asyncio, pytest-cov, httpx, Testcontainers
* **ะะธะฝัะตัั ะธ ัะพัะผะฐััะตัั:** black, isort, mypy, flake8, pylint

#### Frontend
* **ะคัะตะนะผะฒะพัะบ:** Next.js 14 (React 18 + TypeScript)
* **ะกัะธะปะธะทะฐัะธั:** Tailwind CSS, shadcn/ui, Headless UI
* **ะฃะฟัะฐะฒะปะตะฝะธะต ัะพััะพัะฝะธะตะผ:** React Query, Zustand
* **ะคะพัะผั:** React Hook Form + Zod (ะฒะฐะปะธะดะฐัะธั)
* **ะะธะทัะฐะปะธะทะฐัะธั ะดะฐะฝะฝัั:** Recharts
* **ะะพะบะฐะปะธะทะฐัะธั:** next-intl
* **ะะฐะฑะพัะฐ ั ะดะฐัะฐะผะธ:** date-fns
* **ะะฐะฑะพัะฐ ั ะธะทะพะฑัะฐะถะตะฝะธัะผะธ:** next/image + react-dropzone
* **WebSocket:** SWR + socket.io-client
* **ะขะตััะธัะพะฒะฐะฝะธะต:** Jest, React Testing Library, Playwright

#### DevOps & ะะฝััะฐััััะบัััะฐ
* **ะะพะฝัะตะนะฝะตัะธะทะฐัะธั:** Docker + Docker Compose
* **ะัะบะตัััะฐัะธั:** Kubernetes (EKS)
* **CI/CD:** GitHub Actions
* **ะฃะฟัะฐะฒะปะตะฝะธะต ะธะฝััะฐััััะบัััะพะน:** Terraform
* **ะะพะฝะธัะพัะธะฝะณ:** Prometheus + Grafana
* **ะะพะณะธัะพะฒะฐะฝะธะต:** OpenSearch + Fluent Bit
* **ะขัะฐััะธัะพะฒะบะฐ:** Jaeger (OpenTelemetry)
* **ะะตะทะพะฟะฐัะฝะพััั:** AWS WAF, OWASP ZAP, Snyk

### 15.2 ะคะฐะนะปะพะฒะฐั ััััะบัััะฐ ะฟัะพะตะบัะฐ

#### ะะฑัะฐั ััััะบัััะฐ (ะผะพะฝะพัะตะฟะพะทะธัะพัะธะน)

```
gametrade/
โโโ .github/                  # CI/CD ะฟะฐะนะฟะปะฐะนะฝั ะธ GitHub Actions
โ   โโโ workflows/            # ะะฐัััะพะนะบะธ ะดะปั CI/CD
โโโ backend/                  # ะะธะบัะพัะตัะฒะธัั ะฑัะบะตะฝะดะฐ
โ   โโโ auth-svc/             # ะกะตัะฒะธั ะฐััะตะฝัะธัะธะบะฐัะธะธ
โ   โโโ marketplace-svc/      # ะกะตัะฒะธั ะผะฐัะบะตัะฟะปะตะนัะฐ
โ   โโโ payment-svc/          # ะกะตัะฒะธั ะฟะปะฐัะตะถะตะน
โ   โโโ notification-svc/     # ะกะตัะฒะธั ัะฒะตะดะพะผะปะตะฝะธะน
โ   โโโ admin-svc/            # ะกะตัะฒะธั ะฐะดะผะธะฝะธัััะธัะพะฒะฐะฝะธั
โ   โโโ shared/               # ะะฑัะธะน ะบะพะด ะดะปั ะผะธะบัะพัะตัะฒะธัะพะฒ
โโโ frontend/                 # Next.js ะฟัะธะปะพะถะตะฝะธะต
โโโ infrastructure/           # ะะพะฝัะธะณััะฐัะธั ะธะฝััะฐััััะบัััั
โ   โโโ terraform/            # Terraform ะผะพะดัะปะธ
โ   โโโ k8s/                  # Kubernetes ะผะฐะฝะธัะตััั
โ   โโโ docker/               # Docker-ะบะพะฝัะธะณะธ
โโโ docs/                     # ะะพะบัะผะตะฝัะฐัะธั
โโโ tools/                    # ะกะบัะธะฟัั ะธ ััะธะปะธัั
โโโ README.md                 # ะะปะฐะฒะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั ะฟัะพะตะบัะฐ
```

#### ะกัััะบัััะฐ ะผะธะบัะพัะตัะฒะธัะฐ (ะฝะฐ ะฟัะธะผะตัะต marketplace-svc)

```
marketplace-svc/
โโโ Dockerfile                # ะะพะฝัะธะณััะฐัะธั ะดะปั Docker-ะพะฑัะฐะทะฐ
โโโ pyproject.toml           # ะะฐะฒะธัะธะผะพััะธ ะธ ะบะพะฝัะธะณััะฐัะธั ะฟัะพะตะบัะฐ
โโโ README.md                # ะะพะบัะผะตะฝัะฐัะธั ัะตัะฒะธัะฐ
โโโ src/
โ   โโโ marketplace/
โ       โโโ __init__.py
โ       โโโ main.py          # ะขะพัะบะฐ ะฒัะพะดะฐ ะฟัะธะปะพะถะตะฝะธั
โ       โโโ config.py        # ะะพะฝัะธะณััะฐัะธั ะธ ะฝะฐัััะพะนะบะธ
โ       โโโ api/             # API ัะปะพะน
โ       โ   โโโ __init__.py
โ       โ   โโโ dependencies.py  # FastAPI ะทะฐะฒะธัะธะผะพััะธ
โ       โ   โโโ errors.py    # ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ
โ       โ   โโโ routers/     # ะะฐัััััั API
โ       โ   โ   โโโ __init__.py
โ       โ   โ   โโโ listings.py
โ       โ   โ   โโโ transactions.py
โ       โ   โ   โโโ ...
โ       โ   โโโ schemas/     # Pydantic-ะผะพะดะตะปะธ
โ       โ       โโโ __init__.py
โ       โ       โโโ listings.py
โ       โ       โโโ common.py
โ       โ       โโโ ...
โ       โโโ domain/          # ะะพะผะตะฝะฝัะต ะผะพะดะตะปะธ ะธ ะฑะธะทะฝะตั-ะปะพะณะธะบะฐ
โ       โ   โโโ __init__.py
โ       โ   โโโ listing.py
โ       โ   โโโ transaction.py
โ       โ   โโโ category.py
โ       โ   โโโ game.py
โ       โ   โโโ ...
โ       โโโ repositories/    # ะะพัััะฟ ะบ ะดะฐะฝะฝัะผ
โ       โ   โโโ __init__.py
โ       โ   โโโ base.py
โ       โ   โโโ unit_of_work.py
โ       โ   โโโ listing_repository.py
โ       โ   โโโ ...
โ       โโโ services/        # ะกะตัะฒะธัะฝัะน ัะปะพะน
โ       โ   โโโ __init__.py
โ       โ   โโโ listing_service.py
โ       โ   โโโ transaction_service.py
โ       โ   โโโ search_service.py
โ       โ   โโโ ...
โ       โโโ events/          # ะะฑัะฐะฑะพัะบะฐ ัะพะฑััะธะน
โ       โ   โโโ __init__.py
โ       โ   โโโ publisher.py
โ       โ   โโโ consumer.py
โ       โ   โโโ schemas/     # Avro-ััะตะผั ัะพะฑััะธะน
โ       โโโ infrastructure/  # ะะฝััะฐััััะบัััะฝัะต ะบะพะผะฟะพะฝะตะฝัั
โ           โโโ __init__.py
โ           โโโ database.py
โ           โโโ redis.py
โ           โโโ elasticsearch.py
โ           โโโ messaging.py
โโโ tests/                   # ะขะตััั
โ   โโโ conftest.py
โ   โโโ unit/               # ะะพะดัะปัะฝัะต ัะตััั
โ   โโโ integration/        # ะะฝัะตะณัะฐัะธะพะฝะฝัะต ัะตััั
โ   โโโ e2e/                # End-to-end ัะตััั
โโโ migrations/             # Alembic ะผะธะณัะฐัะธะธ ะฑะฐะทั ะดะฐะฝะฝัั
    โโโ env.py
    โโโ versions/
    โโโ script.py.mako
```

#### ะกัััะบัััะฐ frontend-ะฟัะธะปะพะถะตะฝะธั

```
frontend/
โโโ .next/                  # ะกะณะตะฝะตัะธัะพะฒะฐะฝะฝัะต Next.js ัะฐะนะปั
โโโ public/                 # ะกัะฐัะธัะตัะบะธะต ัะตััััั
โ   โโโ images/
โ   โโโ fonts/
โ   โโโ locales/            # ะคะฐะนะปั ะปะพะบะฐะปะธะทะฐัะธะธ
โโโ src/
โ   โโโ app/                # App Router Next.js
โ   โ   โโโ layout.tsx      # ะะพัะฝะตะฒะพะน layout
โ   โ   โโโ page.tsx        # ะะปะฐะฒะฝะฐั ัััะฐะฝะธัะฐ
โ   โ   โโโ (auth)/         # ะะพััั ะฐััะตะฝัะธัะธะบะฐัะธะธ
โ   โ   โ   โโโ login/
โ   โ   โ   โโโ register/
โ   โ   โโโ listings/       # ะะพััั ะปะธััะธะฝะณะพะฒ
โ   โ   โ   โโโ [id]/       # ะะตัะฐะปัะฝะฐั ัััะฐะฝะธัะฐ ะปะธััะธะฝะณะฐ
โ   โ   โ   โโโ create/
โ   โ   โโโ account/        # ะะธัะฝัะน ะบะฐะฑะธะฝะตั
โ   โ   โโโ transactions/   # ะขัะฐะฝะทะฐะบัะธะธ
โ   โ   โโโ admin/          # ะะดะผะธะฝ-ะฟะฐะฝะตะปั
โ   โ   โ   โโโ dashboard/
โ   โ   โ   โโโ users/
โ   โ   โ   โโโ listings/
โ   โ   โโโ api/            # API ัะพััั
โ   โโโ components/         # React-ะบะพะผะฟะพะฝะตะฝัั
โ   โ   โโโ ui/             # ะะฐะทะพะฒัะต UI-ะบะพะผะฟะพะฝะตะฝัั
โ   โ   โ   โโโ button.tsx
โ   โ   โ   โโโ input.tsx
โ   โ   โ   โโโ ...
โ   โ   โโโ listings/       # ะะพะผะฟะพะฝะตะฝัั ะปะธััะธะฝะณะพะฒ
โ   โ   โโโ auth/           # ะะพะผะฟะพะฝะตะฝัั ะฐััะตะฝัะธัะธะบะฐัะธะธ
โ   โ   โโโ layout/         # ะะพะผะฟะพะฝะตะฝัั ะปะตะนะฐััะฐ
โ   โ   โโโ ...
โ   โโโ hooks/              # ะะฐััะพะผะฝัะต React-ััะบะธ
โ   โ   โโโ use-auth.tsx
โ   โ   โโโ use-listings.tsx
โ   โ   โโโ ...
โ   โโโ lib/                # ะะธะฑะปะธะพัะตะบะธ ะธ ััะธะปะธัั
โ   โ   โโโ api-client.ts   # HTTP ะบะปะธะตะฝั
โ   โ   โโโ auth.ts         # ะฃัะธะปะธัั ะดะปั ะฐััะตะฝัะธัะธะบะฐัะธะธ
โ   โ   โโโ utils.ts        # ะะฑัะธะต ััะธะปะธัั
โ   โ   โโโ ...
โ   โโโ styles/             # ะะปะพะฑะฐะปัะฝัะต ััะธะปะธ
โ   โโโ types/              # TypeScript ัะธะฟั
โ   โโโ providers/          # React ะบะพะฝัะตะบัั-ะฟัะพะฒะฐะนะดะตัั
โโโ tailwind.config.js      # ะะพะฝัะธะณััะฐัะธั Tailwind
โโโ next.config.js          # ะะพะฝัะธะณััะฐัะธั Next.js
โโโ tsconfig.json           # ะะพะฝัะธะณััะฐัะธั TypeScript
โโโ package.json            # ะะฐะฒะธัะธะผะพััะธ ะธ ัะบัะธะฟัั
```

### 15.3 ะะฑัะธะน ะฒะธะทัะฐะปัะฝัะน ััะธะปั

ะัะธะปะพะถะตะฝะธะต ะฑัะดะตั ะฒัะฟะพะปะฝะตะฝะพ ะฒ ัะพะฒัะตะผะตะฝะฝะพะผ, ัะธััะพะผ ะดะธะทะฐะนะฝะต ั ะฐะบัะตะฝัะพะผ ะฝะฐ ะธะณัะพะฒัั ัะตะผะฐัะธะบั, ะฝะพ ะฑะตะท ะธะทะปะธัะฝะตะน "ะณะตะนะผะธัะธะบะฐัะธะธ", ััะพะฑั ัะพััะฐะฝะธัั ะฟัะพัะตััะธะพะฝะฐะปัะฝัะน ะฒะธะด ัะพัะณะพะฒะพะน ะฟะปะพัะฐะดะบะธ.

#### ะฆะฒะตัะพะฒะฐั ััะตะผะฐ:
* **ะัะฝะพะฒะฝัะต ัะฒะตัะฐ:**
  * ะกะธะฝะธะน (#3B82F6) - ะพัะฝะพะฒะฝะพะน ะฐะบัะตะฝัะฝัะน ัะฒะตั
  * ะขะตะผะฝะพ-ัะธะฝะธะน (#1E40AF) - ะดะปั ะบะฝะพะฟะพะบ ะธ ะฒะฐะถะฝัั ัะปะตะผะตะฝัะพะฒ
  * ะะตะปัะน (#FFFFFF) - ัะพะฝ ะพัะฝะพะฒะฝะพะณะพ ะบะพะฝัะตะฝัะฐ
  * ะขะตะผะฝะพ-ัะตััะน (#1F2937) - ะดะปั ัะตะบััะฐ
* **ะัะพัะธัะฝัะต ัะฒะตัะฐ:**
  * ะะตะปะตะฝัะน (#10B981) - ััะฟะตัะฝัะต ะดะตะนััะฒะธั
  * ะัะฐัะฝัะน (#EF4444) - ะพัะธะฑะบะธ ะธ ะฟัะตะดัะฟัะตะถะดะตะฝะธั
  * ะะตะปััะน (#F59E0B) - ัะฒะตะดะพะผะปะตะฝะธั
  * ะกะฒะตัะปะพ-ัะตััะน (#F3F4F6) - ัะพะฝ ะฒัะพัะพััะตะฟะตะฝะฝัั ัะปะตะผะตะฝัะพะฒ

#### ะขะธะฟะพะณัะฐัะธะบะฐ:
* **ะัะฝะพะฒะฝะพะน ััะธัั:** Inter (ะฑะตะท ะทะฐัะตัะตะบ)
* **ะะฐะณะพะปะพะฒะบะธ:** 
  * H1: 32px, bold
  * H2: 24px, semi-bold
  * H3: 20px, semi-bold
* **ะัะฝะพะฒะฝะพะน ัะตะบัั:** 16px, regular
* **ะัะฟะพะผะพะณะฐัะตะปัะฝัะน ัะตะบัั:** 14px, regular

#### UI-ะบะพะผะฟะพะฝะตะฝัั:
* ะกะบััะณะปะตะฝะฝัะต ัะณะปั (border-radius: 8px)
* ะะตะณะบะธะต ัะตะฝะธ ะดะปั ะบะฐััะพัะตะบ ะธ ะผะพะดะฐะปัะฝัั ะพะบะพะฝ
* ะะธะฝะธะผะฐะปะธััะธัะฝัะต ะธะบะพะฝะบะธ (Lucide icons)
* ะะปะฐะฒะฝัะต ะฐะฝะธะผะฐัะธะธ ะฟะตัะตัะพะดะพะฒ ะธ ัะพััะพัะฝะธะน